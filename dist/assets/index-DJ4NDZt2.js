var ar=Object.defineProperty;var hr=(I,o,i)=>o in I?ar(I,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):I[o]=i;var c=(I,o,i)=>hr(I,typeof o!="symbol"?o+"":o,i);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))s(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function i(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerPolicy&&(d.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?d.credentials="include":h.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(h){if(h.ep)return;h.ep=!0;const d=i(h);fetch(h.href,d)}})();function or(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}var Ye={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var ur=Ye.exports,Ji;function lr(){return Ji||(Ji=1,function(I){(function(o,i){I.exports=o.document?i(o,!0):function(s){if(!s.document)throw new Error("jQuery requires a window with a document");return i(s)}})(typeof window<"u"?window:ur,function(o,i){var s=[],h=Object.getPrototypeOf,d=s.slice,m=s.flat?function(t){return s.flat.call(t)}:function(t){return s.concat.apply([],t)},C=s.push,T=s.indexOf,F={},P=F.toString,N=F.hasOwnProperty,_=N.toString,rt=_.call(Object),G={},x=function(e){return typeof e=="function"&&typeof e.nodeType!="number"&&typeof e.item!="function"},Bt=function(e){return e!=null&&e===e.window},q=o.document,Se={type:!0,src:!0,nonce:!0,noModule:!0};function Jt(t,e,r){r=r||q;var n,u,l=r.createElement("script");if(l.text=t,e)for(n in Se)u=e[n]||e.getAttribute&&e.getAttribute(n),u&&l.setAttribute(n,u);r.head.appendChild(l).parentNode.removeChild(l)}function It(t){return t==null?t+"":typeof t=="object"||typeof t=="function"?F[P.call(t)]||"object":typeof t}var ni="3.7.1",Zi=/HTML$/i,a=function(t,e){return new a.fn.init(t,e)};a.fn=a.prototype={jquery:ni,constructor:a,length:0,toArray:function(){return d.call(this)},get:function(t){return t==null?d.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=a.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return a.each(this,t)},map:function(t){return this.pushStack(a.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(a.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(a.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:s.sort,splice:s.splice},a.extend=a.fn.extend=function(){var t,e,r,n,u,l,f=arguments[0]||{},v=1,g=arguments.length,w=!1;for(typeof f=="boolean"&&(w=f,f=arguments[v]||{},v++),typeof f!="object"&&!x(f)&&(f={}),v===g&&(f=this,v--);v<g;v++)if((t=arguments[v])!=null)for(e in t)n=t[e],!(e==="__proto__"||f===n)&&(w&&n&&(a.isPlainObject(n)||(u=Array.isArray(n)))?(r=f[e],u&&!Array.isArray(r)?l=[]:!u&&!a.isPlainObject(r)?l={}:l=r,u=!1,f[e]=a.extend(w,l,n)):n!==void 0&&(f[e]=n));return f},a.extend({expando:"jQuery"+(ni+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!t||P.call(t)!=="[object Object]"?!1:(e=h(t),e?(r=N.call(e,"constructor")&&e.constructor,typeof r=="function"&&_.call(r)===rt):!0)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,r){Jt(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,n=0;if(Fe(t))for(r=t.length;n<r&&e.call(t[n],n,t[n])!==!1;n++);else for(n in t)if(e.call(t[n],n,t[n])===!1)break;return t},text:function(t){var e,r="",n=0,u=t.nodeType;if(!u)for(;e=t[n++];)r+=a.text(e);return u===1||u===11?t.textContent:u===9?t.documentElement.textContent:u===3||u===4?t.nodeValue:r},makeArray:function(t,e){var r=e||[];return t!=null&&(Fe(Object(t))?a.merge(r,typeof t=="string"?[t]:t):C.call(r,t)),r},inArray:function(t,e,r){return e==null?-1:T.call(e,t,r)},isXMLDoc:function(t){var e=t&&t.namespaceURI,r=t&&(t.ownerDocument||t).documentElement;return!Zi.test(e||r&&r.nodeName||"HTML")},merge:function(t,e){for(var r=+e.length,n=0,u=t.length;n<r;n++)t[u++]=e[n];return t.length=u,t},grep:function(t,e,r){for(var n,u=[],l=0,f=t.length,v=!r;l<f;l++)n=!e(t[l],l),n!==v&&u.push(t[l]);return u},map:function(t,e,r){var n,u,l=0,f=[];if(Fe(t))for(n=t.length;l<n;l++)u=e(t[l],l,r),u!=null&&f.push(u);else for(l in t)u=e(t[l],l,r),u!=null&&f.push(u);return m(f)},guid:1,support:G}),typeof Symbol=="function"&&(a.fn[Symbol.iterator]=s[Symbol.iterator]),a.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){F["[object "+e+"]"]=e.toLowerCase()});function Fe(t){var e=!!t&&"length"in t&&t.length,r=It(t);return x(t)||Bt(t)?!1:r==="array"||e===0||typeof e=="number"&&e>0&&e-1 in t}function st(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var ts=s.pop,es=s.sort,is=s.splice,et="[\\x20\\t\\r\\n\\f]",re=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g");a.contains=function(t,e){var r=e&&e.parentNode;return t===r||!!(r&&r.nodeType===1&&(t.contains?t.contains(r):t.compareDocumentPosition&&t.compareDocumentPosition(r)&16))};var ss=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function rs(t,e){return e?t==="\0"?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}a.escapeSelector=function(t){return(t+"").replace(ss,rs)};var Wt=q,Pe=C;(function(){var t,e,r,n,u,l=Pe,f,v,g,w,X,Y=a.expando,D=0,W=0,U=De(),Q=De(),$=De(),ht=De(),at=function(p,y){return p===y&&(u=!0),0},Mt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dt="(?:\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+et+"*("+Dt+")(?:"+et+"*([*^$|!~]?=)"+et+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Dt+"))|)"+et+"*\\]",qt=":("+Dt+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+z+")*)|.*)\\)|)",Z=new RegExp(et+"+","g"),nt=new RegExp("^"+et+"*,"+et+"*"),ce=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),Ve=new RegExp(et+"|>"),kt=new RegExp(qt),pe=new RegExp("^"+Dt+"$"),Xt={ID:new RegExp("^#("+Dt+")"),CLASS:new RegExp("^\\.("+Dt+")"),TAG:new RegExp("^("+Dt+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+qt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+Mt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},Ht=/^(?:input|select|textarea|button)$/i,Rt=/^h\d$/i,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ze=/[+~]/,Ot=new RegExp("\\\\[\\da-fA-F]{1,6}"+et+"?|\\\\([^\\r\\n\\f])","g"),At=function(p,y){var b="0x"+p.slice(1)-65536;return y||(b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,b&1023|56320))},Zs=function(){Et()},tr=Xe(function(p){return p.disabled===!0&&st(p,"fieldset")},{dir:"parentNode",next:"legend"});function er(){try{return f.activeElement}catch{}}try{l.apply(s=d.call(Wt.childNodes),Wt.childNodes),s[Wt.childNodes.length].nodeType}catch{l={apply:function(y,b){Pe.apply(y,d.call(b))},call:function(y){Pe.apply(y,d.call(arguments,1))}}}function tt(p,y,b,k){var L,O,A,H,B,K,j,J=y&&y.ownerDocument,V=y?y.nodeType:9;if(b=b||[],typeof p!="string"||!p||V!==1&&V!==9&&V!==11)return b;if(!k&&(Et(y),y=y||f,g)){if(V!==11&&(B=mt.exec(p)))if(L=B[1]){if(V===9)if(A=y.getElementById(L)){if(A.id===L)return l.call(b,A),b}else return b;else if(J&&(A=J.getElementById(L))&&tt.contains(y,A)&&A.id===L)return l.call(b,A),b}else{if(B[2])return l.apply(b,y.getElementsByTagName(p)),b;if((L=B[3])&&y.getElementsByClassName)return l.apply(b,y.getElementsByClassName(L)),b}if(!ht[p+" "]&&(!w||!w.test(p))){if(j=p,J=y,V===1&&(Ve.test(p)||ce.test(p))){for(J=ze.test(p)&&Qe(y.parentNode)||y,(J!=y||!G.scope)&&((H=y.getAttribute("id"))?H=a.escapeSelector(H):y.setAttribute("id",H=Y)),K=ge(p),O=K.length;O--;)K[O]=(H?"#"+H:":scope")+" "+ke(K[O]);j=K.join(",")}try{return l.apply(b,J.querySelectorAll(j)),b}catch{ht(p,!0)}finally{H===Y&&y.removeAttribute("id")}}}return Ui(p.replace(re,"$1"),y,b,k)}function De(){var p=[];function y(b,k){return p.push(b+" ")>e.cacheLength&&delete y[p.shift()],y[b+" "]=k}return y}function Ct(p){return p[Y]=!0,p}function ee(p){var y=f.createElement("fieldset");try{return!!p(y)}catch{return!1}finally{y.parentNode&&y.parentNode.removeChild(y),y=null}}function ir(p){return function(y){return st(y,"input")&&y.type===p}}function sr(p){return function(y){return(st(y,"input")||st(y,"button"))&&y.type===p}}function qi(p){return function(y){return"form"in y?y.parentNode&&y.disabled===!1?"label"in y?"label"in y.parentNode?y.parentNode.disabled===p:y.disabled===p:y.isDisabled===p||y.isDisabled!==!p&&tr(y)===p:y.disabled===p:"label"in y?y.disabled===p:!1}}function xt(p){return Ct(function(y){return y=+y,Ct(function(b,k){for(var L,O=p([],b.length,y),A=O.length;A--;)b[L=O[A]]&&(b[L]=!(k[L]=b[L]))})})}function Qe(p){return p&&typeof p.getElementsByTagName<"u"&&p}function Et(p){var y,b=p?p.ownerDocument||p:Wt;return b==f||b.nodeType!==9||!b.documentElement||(f=b,v=f.documentElement,g=!a.isXMLDoc(f),X=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,v.msMatchesSelector&&Wt!=f&&(y=f.defaultView)&&y.top!==y&&y.addEventListener("unload",Zs),G.getById=ee(function(k){return v.appendChild(k).id=a.expando,!f.getElementsByName||!f.getElementsByName(a.expando).length}),G.disconnectedMatch=ee(function(k){return X.call(k,"*")}),G.scope=ee(function(){return f.querySelectorAll(":scope")}),G.cssHas=ee(function(){try{return f.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),G.getById?(e.filter.ID=function(k){var L=k.replace(Ot,At);return function(O){return O.getAttribute("id")===L}},e.find.ID=function(k,L){if(typeof L.getElementById<"u"&&g){var O=L.getElementById(k);return O?[O]:[]}}):(e.filter.ID=function(k){var L=k.replace(Ot,At);return function(O){var A=typeof O.getAttributeNode<"u"&&O.getAttributeNode("id");return A&&A.value===L}},e.find.ID=function(k,L){if(typeof L.getElementById<"u"&&g){var O,A,H,B=L.getElementById(k);if(B){if(O=B.getAttributeNode("id"),O&&O.value===k)return[B];for(H=L.getElementsByName(k),A=0;B=H[A++];)if(O=B.getAttributeNode("id"),O&&O.value===k)return[B]}return[]}}),e.find.TAG=function(k,L){return typeof L.getElementsByTagName<"u"?L.getElementsByTagName(k):L.querySelectorAll(k)},e.find.CLASS=function(k,L){if(typeof L.getElementsByClassName<"u"&&g)return L.getElementsByClassName(k)},w=[],ee(function(k){var L;v.appendChild(k).innerHTML="<a id='"+Y+"' href='' disabled='disabled'></a><select id='"+Y+"-\r\\' disabled='disabled'><option selected=''></option></select>",k.querySelectorAll("[selected]").length||w.push("\\["+et+"*(?:value|"+Mt+")"),k.querySelectorAll("[id~="+Y+"-]").length||w.push("~="),k.querySelectorAll("a#"+Y+"+*").length||w.push(".#.+[+~]"),k.querySelectorAll(":checked").length||w.push(":checked"),L=f.createElement("input"),L.setAttribute("type","hidden"),k.appendChild(L).setAttribute("name","D"),v.appendChild(k).disabled=!0,k.querySelectorAll(":disabled").length!==2&&w.push(":enabled",":disabled"),L=f.createElement("input"),L.setAttribute("name",""),k.appendChild(L),k.querySelectorAll("[name='']").length||w.push("\\["+et+"*name"+et+"*="+et+`*(?:''|"")`)}),G.cssHas||w.push(":has"),w=w.length&&new RegExp(w.join("|")),at=function(k,L){if(k===L)return u=!0,0;var O=!k.compareDocumentPosition-!L.compareDocumentPosition;return O||(O=(k.ownerDocument||k)==(L.ownerDocument||L)?k.compareDocumentPosition(L):1,O&1||!G.sortDetached&&L.compareDocumentPosition(k)===O?k===f||k.ownerDocument==Wt&&tt.contains(Wt,k)?-1:L===f||L.ownerDocument==Wt&&tt.contains(Wt,L)?1:n?T.call(n,k)-T.call(n,L):0:O&4?-1:1)}),f}tt.matches=function(p,y){return tt(p,null,null,y)},tt.matchesSelector=function(p,y){if(Et(p),g&&!ht[y+" "]&&(!w||!w.test(y)))try{var b=X.call(p,y);if(b||G.disconnectedMatch||p.document&&p.document.nodeType!==11)return b}catch{ht(y,!0)}return tt(y,f,null,[p]).length>0},tt.contains=function(p,y){return(p.ownerDocument||p)!=f&&Et(p),a.contains(p,y)},tt.attr=function(p,y){(p.ownerDocument||p)!=f&&Et(p);var b=e.attrHandle[y.toLowerCase()],k=b&&N.call(e.attrHandle,y.toLowerCase())?b(p,y,!g):void 0;return k!==void 0?k:p.getAttribute(y)},tt.error=function(p){throw new Error("Syntax error, unrecognized expression: "+p)},a.uniqueSort=function(p){var y,b=[],k=0,L=0;if(u=!G.sortStable,n=!G.sortStable&&d.call(p,0),es.call(p,at),u){for(;y=p[L++];)y===p[L]&&(k=b.push(L));for(;k--;)is.call(p,b[k],1)}return n=null,p},a.fn.uniqueSort=function(){return this.pushStack(a.uniqueSort(d.apply(this)))},e=a.expr={cacheLength:50,createPseudo:Ct,match:Xt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(p){return p[1]=p[1].replace(Ot,At),p[3]=(p[3]||p[4]||p[5]||"").replace(Ot,At),p[2]==="~="&&(p[3]=" "+p[3]+" "),p.slice(0,4)},CHILD:function(p){return p[1]=p[1].toLowerCase(),p[1].slice(0,3)==="nth"?(p[3]||tt.error(p[0]),p[4]=+(p[4]?p[5]+(p[6]||1):2*(p[3]==="even"||p[3]==="odd")),p[5]=+(p[7]+p[8]||p[3]==="odd")):p[3]&&tt.error(p[0]),p},PSEUDO:function(p){var y,b=!p[6]&&p[2];return Xt.CHILD.test(p[0])?null:(p[3]?p[2]=p[4]||p[5]||"":b&&kt.test(b)&&(y=ge(b,!0))&&(y=b.indexOf(")",b.length-y)-b.length)&&(p[0]=p[0].slice(0,y),p[2]=b.slice(0,y)),p.slice(0,3))}},filter:{TAG:function(p){var y=p.replace(Ot,At).toLowerCase();return p==="*"?function(){return!0}:function(b){return st(b,y)}},CLASS:function(p){var y=U[p+" "];return y||(y=new RegExp("(^|"+et+")"+p+"("+et+"|$)"))&&U(p,function(b){return y.test(typeof b.className=="string"&&b.className||typeof b.getAttribute<"u"&&b.getAttribute("class")||"")})},ATTR:function(p,y,b){return function(k){var L=tt.attr(k,p);return L==null?y==="!=":y?(L+="",y==="="?L===b:y==="!="?L!==b:y==="^="?b&&L.indexOf(b)===0:y==="*="?b&&L.indexOf(b)>-1:y==="$="?b&&L.slice(-b.length)===b:y==="~="?(" "+L.replace(Z," ")+" ").indexOf(b)>-1:y==="|="?L===b||L.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(p,y,b,k,L){var O=p.slice(0,3)!=="nth",A=p.slice(-4)!=="last",H=y==="of-type";return k===1&&L===0?function(B){return!!B.parentNode}:function(B,K,j){var J,V,E,it,pt,ot=O!==A?"nextSibling":"previousSibling",St=B.parentNode,Lt=H&&B.nodeName.toLowerCase(),ie=!j&&!H,lt=!1;if(St){if(O){for(;ot;){for(E=B;E=E[ot];)if(H?st(E,Lt):E.nodeType===1)return!1;pt=ot=p==="only"&&!pt&&"nextSibling"}return!0}if(pt=[A?St.firstChild:St.lastChild],A&&ie){for(V=St[Y]||(St[Y]={}),J=V[p]||[],it=J[0]===D&&J[1],lt=it&&J[2],E=it&&St.childNodes[it];E=++it&&E&&E[ot]||(lt=it=0)||pt.pop();)if(E.nodeType===1&&++lt&&E===B){V[p]=[D,it,lt];break}}else if(ie&&(V=B[Y]||(B[Y]={}),J=V[p]||[],it=J[0]===D&&J[1],lt=it),lt===!1)for(;(E=++it&&E&&E[ot]||(lt=it=0)||pt.pop())&&!((H?st(E,Lt):E.nodeType===1)&&++lt&&(ie&&(V=E[Y]||(E[Y]={}),V[p]=[D,lt]),E===B)););return lt-=L,lt===k||lt%k===0&&lt/k>=0}}},PSEUDO:function(p,y){var b,k=e.pseudos[p]||e.setFilters[p.toLowerCase()]||tt.error("unsupported pseudo: "+p);return k[Y]?k(y):k.length>1?(b=[p,p,"",y],e.setFilters.hasOwnProperty(p.toLowerCase())?Ct(function(L,O){for(var A,H=k(L,y),B=H.length;B--;)A=T.call(L,H[B]),L[A]=!(O[A]=H[B])}):function(L){return k(L,0,b)}):k}},pseudos:{not:Ct(function(p){var y=[],b=[],k=ii(p.replace(re,"$1"));return k[Y]?Ct(function(L,O,A,H){for(var B,K=k(L,null,H,[]),j=L.length;j--;)(B=K[j])&&(L[j]=!(O[j]=B))}):function(L,O,A){return y[0]=L,k(y,null,A,b),y[0]=null,!b.pop()}}),has:Ct(function(p){return function(y){return tt(p,y).length>0}}),contains:Ct(function(p){return p=p.replace(Ot,At),function(y){return(y.textContent||a.text(y)).indexOf(p)>-1}}),lang:Ct(function(p){return pe.test(p||"")||tt.error("unsupported lang: "+p),p=p.replace(Ot,At).toLowerCase(),function(y){var b;do if(b=g?y.lang:y.getAttribute("xml:lang")||y.getAttribute("lang"))return b=b.toLowerCase(),b===p||b.indexOf(p+"-")===0;while((y=y.parentNode)&&y.nodeType===1);return!1}}),target:function(p){var y=o.location&&o.location.hash;return y&&y.slice(1)===p.id},root:function(p){return p===v},focus:function(p){return p===er()&&f.hasFocus()&&!!(p.type||p.href||~p.tabIndex)},enabled:qi(!1),disabled:qi(!0),checked:function(p){return st(p,"input")&&!!p.checked||st(p,"option")&&!!p.selected},selected:function(p){return p.parentNode&&p.parentNode.selectedIndex,p.selected===!0},empty:function(p){for(p=p.firstChild;p;p=p.nextSibling)if(p.nodeType<6)return!1;return!0},parent:function(p){return!e.pseudos.empty(p)},header:function(p){return Rt.test(p.nodeName)},input:function(p){return Ht.test(p.nodeName)},button:function(p){return st(p,"input")&&p.type==="button"||st(p,"button")},text:function(p){var y;return st(p,"input")&&p.type==="text"&&((y=p.getAttribute("type"))==null||y.toLowerCase()==="text")},first:xt(function(){return[0]}),last:xt(function(p,y){return[y-1]}),eq:xt(function(p,y,b){return[b<0?b+y:b]}),even:xt(function(p,y){for(var b=0;b<y;b+=2)p.push(b);return p}),odd:xt(function(p,y){for(var b=1;b<y;b+=2)p.push(b);return p}),lt:xt(function(p,y,b){var k;for(b<0?k=b+y:b>y?k=y:k=b;--k>=0;)p.push(k);return p}),gt:xt(function(p,y,b){for(var k=b<0?b+y:b;++k<y;)p.push(k);return p})}},e.pseudos.nth=e.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=ir(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=sr(t);function xi(){}xi.prototype=e.filters=e.pseudos,e.setFilters=new xi;function ge(p,y){var b,k,L,O,A,H,B,K=Q[p+" "];if(K)return y?0:K.slice(0);for(A=p,H=[],B=e.preFilter;A;){(!b||(k=nt.exec(A)))&&(k&&(A=A.slice(k[0].length)||A),H.push(L=[])),b=!1,(k=ce.exec(A))&&(b=k.shift(),L.push({value:b,type:k[0].replace(re," ")}),A=A.slice(b.length));for(O in e.filter)(k=Xt[O].exec(A))&&(!B[O]||(k=B[O](k)))&&(b=k.shift(),L.push({value:b,type:O,matches:k}),A=A.slice(b.length));if(!b)break}return y?A.length:A?tt.error(p):Q(p,H).slice(0)}function ke(p){for(var y=0,b=p.length,k="";y<b;y++)k+=p[y].value;return k}function Xe(p,y,b){var k=y.dir,L=y.next,O=L||k,A=b&&O==="parentNode",H=W++;return y.first?function(B,K,j){for(;B=B[k];)if(B.nodeType===1||A)return p(B,K,j);return!1}:function(B,K,j){var J,V,E=[D,H];if(j){for(;B=B[k];)if((B.nodeType===1||A)&&p(B,K,j))return!0}else for(;B=B[k];)if(B.nodeType===1||A)if(V=B[Y]||(B[Y]={}),L&&st(B,L))B=B[k]||B;else{if((J=V[O])&&J[0]===D&&J[1]===H)return E[2]=J[2];if(V[O]=E,E[2]=p(B,K,j))return!0}return!1}}function Ze(p){return p.length>1?function(y,b,k){for(var L=p.length;L--;)if(!p[L](y,b,k))return!1;return!0}:p[0]}function rr(p,y,b){for(var k=0,L=y.length;k<L;k++)tt(p,y[k],b);return b}function Le(p,y,b,k,L){for(var O,A=[],H=0,B=p.length,K=y!=null;H<B;H++)(O=p[H])&&(!b||b(O,k,L))&&(A.push(O),K&&y.push(H));return A}function ti(p,y,b,k,L,O){return k&&!k[Y]&&(k=ti(k)),L&&!L[Y]&&(L=ti(L,O)),Ct(function(A,H,B,K){var j,J,V,E,it=[],pt=[],ot=H.length,St=A||rr(y||"*",B.nodeType?[B]:B,[]),Lt=p&&(A||!y)?Le(St,it,p,B,K):St;if(b?(E=L||(A?p:ot||k)?[]:H,b(Lt,E,B,K)):E=Lt,k)for(j=Le(E,pt),k(j,[],B,K),J=j.length;J--;)(V=j[J])&&(E[pt[J]]=!(Lt[pt[J]]=V));if(A){if(L||p){if(L){for(j=[],J=E.length;J--;)(V=E[J])&&j.push(Lt[J]=V);L(null,E=[],j,K)}for(J=E.length;J--;)(V=E[J])&&(j=L?T.call(A,V):it[J])>-1&&(A[j]=!(H[j]=V))}}else E=Le(E===H?E.splice(ot,E.length):E),L?L(null,H,E,K):l.apply(H,E)})}function ei(p){for(var y,b,k,L=p.length,O=e.relative[p[0].type],A=O||e.relative[" "],H=O?1:0,B=Xe(function(J){return J===y},A,!0),K=Xe(function(J){return T.call(y,J)>-1},A,!0),j=[function(J,V,E){var it=!O&&(E||V!=r)||((y=V).nodeType?B(J,V,E):K(J,V,E));return y=null,it}];H<L;H++)if(b=e.relative[p[H].type])j=[Xe(Ze(j),b)];else{if(b=e.filter[p[H].type].apply(null,p[H].matches),b[Y]){for(k=++H;k<L&&!e.relative[p[k].type];k++);return ti(H>1&&Ze(j),H>1&&ke(p.slice(0,H-1).concat({value:p[H-2].type===" "?"*":""})).replace(re,"$1"),b,H<k&&ei(p.slice(H,k)),k<L&&ei(p=p.slice(k)),k<L&&ke(p))}j.push(b)}return Ze(j)}function nr(p,y){var b=y.length>0,k=p.length>0,L=function(O,A,H,B,K){var j,J,V,E=0,it="0",pt=O&&[],ot=[],St=r,Lt=O||k&&e.find.TAG("*",K),ie=D+=St==null?1:Math.random()||.1,lt=Lt.length;for(K&&(r=A==f||A||K);it!==lt&&(j=Lt[it])!=null;it++){if(k&&j){for(J=0,!A&&j.ownerDocument!=f&&(Et(j),H=!g);V=p[J++];)if(V(j,A||f,H)){l.call(B,j);break}K&&(D=ie)}b&&((j=!V&&j)&&E--,O&&pt.push(j))}if(E+=it,b&&it!==E){for(J=0;V=y[J++];)V(pt,ot,A,H);if(O){if(E>0)for(;it--;)pt[it]||ot[it]||(ot[it]=ts.call(B));ot=Le(ot)}l.apply(B,ot),K&&!O&&ot.length>0&&E+y.length>1&&a.uniqueSort(B)}return K&&(D=ie,r=St),pt};return b?Ct(L):L}function ii(p,y){var b,k=[],L=[],O=$[p+" "];if(!O){for(y||(y=ge(p)),b=y.length;b--;)O=ei(y[b]),O[Y]?k.push(O):L.push(O);O=$(p,nr(L,k)),O.selector=p}return O}function Ui(p,y,b,k){var L,O,A,H,B,K=typeof p=="function"&&p,j=!k&&ge(p=K.selector||p);if(b=b||[],j.length===1){if(O=j[0]=j[0].slice(0),O.length>2&&(A=O[0]).type==="ID"&&y.nodeType===9&&g&&e.relative[O[1].type]){if(y=(e.find.ID(A.matches[0].replace(Ot,At),y)||[])[0],y)K&&(y=y.parentNode);else return b;p=p.slice(O.shift().value.length)}for(L=Xt.needsContext.test(p)?0:O.length;L--&&(A=O[L],!e.relative[H=A.type]);)if((B=e.find[H])&&(k=B(A.matches[0].replace(Ot,At),ze.test(O[0].type)&&Qe(y.parentNode)||y))){if(O.splice(L,1),p=k.length&&ke(O),!p)return l.apply(b,k),b;break}}return(K||ii(p,j))(k,y,!g,b,!y||ze.test(p)&&Qe(y.parentNode)||y),b}G.sortStable=Y.split("").sort(at).join("")===Y,Et(),G.sortDetached=ee(function(p){return p.compareDocumentPosition(f.createElement("fieldset"))&1}),a.find=tt,a.expr[":"]=a.expr.pseudos,a.unique=a.uniqueSort,tt.compile=ii,tt.select=Ui,tt.setDocument=Et,tt.tokenize=ge,tt.escape=a.escapeSelector,tt.getText=a.text,tt.isXML=a.isXMLDoc,tt.selectors=a.expr,tt.support=a.support,tt.uniqueSort=a.uniqueSort})();var $t=function(t,e,r){for(var n=[],u=r!==void 0;(t=t[e])&&t.nodeType!==9;)if(t.nodeType===1){if(u&&a(t).is(r))break;n.push(t)}return n},ai=function(t,e){for(var r=[];t;t=t.nextSibling)t.nodeType===1&&t!==e&&r.push(t);return r},hi=a.expr.match.needsContext,oi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Oe(t,e,r){return x(e)?a.grep(t,function(n,u){return!!e.call(n,u,n)!==r}):e.nodeType?a.grep(t,function(n){return n===e!==r}):typeof e!="string"?a.grep(t,function(n){return T.call(e,n)>-1!==r}):a.filter(e,t,r)}a.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),e.length===1&&n.nodeType===1?a.find.matchesSelector(n,t)?[n]:[]:a.find.matches(t,a.grep(e,function(u){return u.nodeType===1}))},a.fn.extend({find:function(t){var e,r,n=this.length,u=this;if(typeof t!="string")return this.pushStack(a(t).filter(function(){for(e=0;e<n;e++)if(a.contains(u[e],this))return!0}));for(r=this.pushStack([]),e=0;e<n;e++)a.find(t,u[e],r);return n>1?a.uniqueSort(r):r},filter:function(t){return this.pushStack(Oe(this,t||[],!1))},not:function(t){return this.pushStack(Oe(this,t||[],!0))},is:function(t){return!!Oe(this,typeof t=="string"&&hi.test(t)?a(t):t||[],!1).length}});var ui,ns=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,as=a.fn.init=function(t,e,r){var n,u;if(!t)return this;if(r=r||ui,typeof t=="string")if(t[0]==="<"&&t[t.length-1]===">"&&t.length>=3?n=[null,t,null]:n=ns.exec(t),n&&(n[1]||!e))if(n[1]){if(e=e instanceof a?e[0]:e,a.merge(this,a.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:q,!0)),oi.test(n[1])&&a.isPlainObject(e))for(n in e)x(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}else return u=q.getElementById(n[2]),u&&(this[0]=u,this.length=1),this;else return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);else{if(t.nodeType)return this[0]=t,this.length=1,this;if(x(t))return r.ready!==void 0?r.ready(t):t(a)}return a.makeArray(t,this)};as.prototype=a.fn,ui=a(q);var hs=/^(?:parents|prev(?:Until|All))/,os={children:!0,contents:!0,next:!0,prev:!0};a.fn.extend({has:function(t){var e=a(t,this),r=e.length;return this.filter(function(){for(var n=0;n<r;n++)if(a.contains(this,e[n]))return!0})},closest:function(t,e){var r,n=0,u=this.length,l=[],f=typeof t!="string"&&a(t);if(!hi.test(t)){for(;n<u;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(f?f.index(r)>-1:r.nodeType===1&&a.find.matchesSelector(r,t))){l.push(r);break}}return this.pushStack(l.length>1?a.uniqueSort(l):l)},index:function(t){return t?typeof t=="string"?T.call(a(t),this[0]):T.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(a.uniqueSort(a.merge(this.get(),a(t,e))))},addBack:function(t){return this.add(t==null?this.prevObject:this.prevObject.filter(t))}});function li(t,e){for(;(t=t[e])&&t.nodeType!==1;);return t}a.each({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return $t(t,"parentNode")},parentsUntil:function(t,e,r){return $t(t,"parentNode",r)},next:function(t){return li(t,"nextSibling")},prev:function(t){return li(t,"previousSibling")},nextAll:function(t){return $t(t,"nextSibling")},prevAll:function(t){return $t(t,"previousSibling")},nextUntil:function(t,e,r){return $t(t,"nextSibling",r)},prevUntil:function(t,e,r){return $t(t,"previousSibling",r)},siblings:function(t){return ai((t.parentNode||{}).firstChild,t)},children:function(t){return ai(t.firstChild)},contents:function(t){return t.contentDocument!=null&&h(t.contentDocument)?t.contentDocument:(st(t,"template")&&(t=t.content||t),a.merge([],t.childNodes))}},function(t,e){a.fn[t]=function(r,n){var u=a.map(this,e,r);return t.slice(-5)!=="Until"&&(n=r),n&&typeof n=="string"&&(u=a.filter(n,u)),this.length>1&&(os[t]||a.uniqueSort(u),hs.test(t)&&u.reverse()),this.pushStack(u)}});var Tt=/[^\x20\t\r\n\f]+/g;function us(t){var e={};return a.each(t.match(Tt)||[],function(r,n){e[n]=!0}),e}a.Callbacks=function(t){t=typeof t=="string"?us(t):a.extend({},t);var e,r,n,u,l=[],f=[],v=-1,g=function(){for(u=u||t.once,n=e=!0;f.length;v=-1)for(r=f.shift();++v<l.length;)l[v].apply(r[0],r[1])===!1&&t.stopOnFalse&&(v=l.length,r=!1);t.memory||(r=!1),e=!1,u&&(r?l=[]:l="")},w={add:function(){return l&&(r&&!e&&(v=l.length-1,f.push(r)),function X(Y){a.each(Y,function(D,W){x(W)?(!t.unique||!w.has(W))&&l.push(W):W&&W.length&&It(W)!=="string"&&X(W)})}(arguments),r&&!e&&g()),this},remove:function(){return a.each(arguments,function(X,Y){for(var D;(D=a.inArray(Y,l,D))>-1;)l.splice(D,1),D<=v&&v--}),this},has:function(X){return X?a.inArray(X,l)>-1:l.length>0},empty:function(){return l&&(l=[]),this},disable:function(){return u=f=[],l=r="",this},disabled:function(){return!l},lock:function(){return u=f=[],!r&&!e&&(l=r=""),this},locked:function(){return!!u},fireWith:function(X,Y){return u||(Y=Y||[],Y=[X,Y.slice?Y.slice():Y],f.push(Y),e||g()),this},fire:function(){return w.fireWith(this,arguments),this},fired:function(){return!!n}};return w};function _t(t){return t}function ve(t){throw t}function fi(t,e,r,n){var u;try{t&&x(u=t.promise)?u.call(t).done(e).fail(r):t&&x(u=t.then)?u.call(t,e,r):e.apply(void 0,[t].slice(n))}catch(l){r.apply(void 0,[l])}}a.extend({Deferred:function(t){var e=[["notify","progress",a.Callbacks("memory"),a.Callbacks("memory"),2],["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),0,"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),1,"rejected"]],r="pending",n={state:function(){return r},always:function(){return u.done(arguments).fail(arguments),this},catch:function(l){return n.then(null,l)},pipe:function(){var l=arguments;return a.Deferred(function(f){a.each(e,function(v,g){var w=x(l[g[4]])&&l[g[4]];u[g[1]](function(){var X=w&&w.apply(this,arguments);X&&x(X.promise)?X.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[g[0]+"With"](this,w?[X]:arguments)})}),l=null}).promise()},then:function(l,f,v){var g=0;function w(X,Y,D,W){return function(){var U=this,Q=arguments,$=function(){var at,Mt;if(!(X<g)){if(at=D.apply(U,Q),at===Y.promise())throw new TypeError("Thenable self-resolution");Mt=at&&(typeof at=="object"||typeof at=="function")&&at.then,x(Mt)?W?Mt.call(at,w(g,Y,_t,W),w(g,Y,ve,W)):(g++,Mt.call(at,w(g,Y,_t,W),w(g,Y,ve,W),w(g,Y,_t,Y.notifyWith))):(D!==_t&&(U=void 0,Q=[at]),(W||Y.resolveWith)(U,Q))}},ht=W?$:function(){try{$()}catch(at){a.Deferred.exceptionHook&&a.Deferred.exceptionHook(at,ht.error),X+1>=g&&(D!==ve&&(U=void 0,Q=[at]),Y.rejectWith(U,Q))}};X?ht():(a.Deferred.getErrorHook?ht.error=a.Deferred.getErrorHook():a.Deferred.getStackHook&&(ht.error=a.Deferred.getStackHook()),o.setTimeout(ht))}}return a.Deferred(function(X){e[0][3].add(w(0,X,x(v)?v:_t,X.notifyWith)),e[1][3].add(w(0,X,x(l)?l:_t)),e[2][3].add(w(0,X,x(f)?f:ve))}).promise()},promise:function(l){return l!=null?a.extend(l,n):n}},u={};return a.each(e,function(l,f){var v=f[2],g=f[5];n[f[1]]=v.add,g&&v.add(function(){r=g},e[3-l][2].disable,e[3-l][3].disable,e[0][2].lock,e[0][3].lock),v.add(f[3].fire),u[f[0]]=function(){return u[f[0]+"With"](this===u?void 0:this,arguments),this},u[f[0]+"With"]=v.fireWith}),n.promise(u),t&&t.call(u,u),u},when:function(t){var e=arguments.length,r=e,n=Array(r),u=d.call(arguments),l=a.Deferred(),f=function(v){return function(g){n[v]=this,u[v]=arguments.length>1?d.call(arguments):g,--e||l.resolveWith(n,u)}};if(e<=1&&(fi(t,l.done(f(r)).resolve,l.reject,!e),l.state()==="pending"||x(u[r]&&u[r].then)))return l.then();for(;r--;)fi(u[r],f(r),l.reject);return l.promise()}});var ls=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;a.Deferred.exceptionHook=function(t,e){o.console&&o.console.warn&&t&&ls.test(t.name)&&o.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},a.readyException=function(t){o.setTimeout(function(){throw t})};var Ae=a.Deferred();a.fn.ready=function(t){return Ae.then(t).catch(function(e){a.readyException(e)}),this},a.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--a.readyWait:a.isReady)||(a.isReady=!0,!(t!==!0&&--a.readyWait>0)&&Ae.resolveWith(q,[a]))}}),a.ready.then=Ae.then;function Ce(){q.removeEventListener("DOMContentLoaded",Ce),o.removeEventListener("load",Ce),a.ready()}q.readyState==="complete"||q.readyState!=="loading"&&!q.documentElement.doScroll?o.setTimeout(a.ready):(q.addEventListener("DOMContentLoaded",Ce),o.addEventListener("load",Ce));var Ft=function(t,e,r,n,u,l,f){var v=0,g=t.length,w=r==null;if(It(r)==="object"){u=!0;for(v in r)Ft(t,e,v,r[v],!0,l,f)}else if(n!==void 0&&(u=!0,x(n)||(f=!0),w&&(f?(e.call(t,n),e=null):(w=e,e=function(X,Y,D){return w.call(a(X),D)})),e))for(;v<g;v++)e(t[v],r,f?n:n.call(t[v],v,e(t[v],r)));return u?t:w?e.call(t):g?e(t[0],r):l},fs=/^-ms-/,ds=/-([a-z])/g;function cs(t,e){return e.toUpperCase()}function bt(t){return t.replace(fs,"ms-").replace(ds,cs)}var ne=function(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType};function ae(){this.expando=a.expando+ae.uid++}ae.uid=1,ae.prototype={cache:function(t){var e=t[this.expando];return e||(e={},ne(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var n,u=this.cache(t);if(typeof e=="string")u[bt(e)]=r;else for(n in e)u[bt(n)]=e[n];return u},get:function(t,e){return e===void 0?this.cache(t):t[this.expando]&&t[this.expando][bt(e)]},access:function(t,e,r){return e===void 0||e&&typeof e=="string"&&r===void 0?this.get(t,e):(this.set(t,e,r),r!==void 0?r:e)},remove:function(t,e){var r,n=t[this.expando];if(n!==void 0){if(e!==void 0)for(Array.isArray(e)?e=e.map(bt):(e=bt(e),e=e in n?[e]:e.match(Tt)||[]),r=e.length;r--;)delete n[e[r]];(e===void 0||a.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==void 0&&!a.isEmptyObject(e)}};var R=new ae,ft=new ae,ps=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,gs=/[A-Z]/g;function ms(t){return t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:ps.test(t)?JSON.parse(t):t}function di(t,e,r){var n;if(r===void 0&&t.nodeType===1)if(n="data-"+e.replace(gs,"-$&").toLowerCase(),r=t.getAttribute(n),typeof r=="string"){try{r=ms(r)}catch{}ft.set(t,e,r)}else r=void 0;return r}a.extend({hasData:function(t){return ft.hasData(t)||R.hasData(t)},data:function(t,e,r){return ft.access(t,e,r)},removeData:function(t,e){ft.remove(t,e)},_data:function(t,e,r){return R.access(t,e,r)},_removeData:function(t,e){R.remove(t,e)}}),a.fn.extend({data:function(t,e){var r,n,u,l=this[0],f=l&&l.attributes;if(t===void 0){if(this.length&&(u=ft.get(l),l.nodeType===1&&!R.get(l,"hasDataAttrs"))){for(r=f.length;r--;)f[r]&&(n=f[r].name,n.indexOf("data-")===0&&(n=bt(n.slice(5)),di(l,n,u[n])));R.set(l,"hasDataAttrs",!0)}return u}return typeof t=="object"?this.each(function(){ft.set(this,t)}):Ft(this,function(v){var g;if(l&&v===void 0)return g=ft.get(l,t),g!==void 0||(g=di(l,t),g!==void 0)?g:void 0;this.each(function(){ft.set(this,t,v)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ft.remove(this,t)})}}),a.extend({queue:function(t,e,r){var n;if(t)return e=(e||"fx")+"queue",n=R.get(t,e),r&&(!n||Array.isArray(r)?n=R.access(t,e,a.makeArray(r)):n.push(r)),n||[]},dequeue:function(t,e){e=e||"fx";var r=a.queue(t,e),n=r.length,u=r.shift(),l=a._queueHooks(t,e),f=function(){a.dequeue(t,e)};u==="inprogress"&&(u=r.shift(),n--),u&&(e==="fx"&&r.unshift("inprogress"),delete l.stop,u.call(t,f,l)),!n&&l&&l.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return R.get(t,r)||R.access(t,r,{empty:a.Callbacks("once memory").add(function(){R.remove(t,[e+"queue",r])})})}}),a.fn.extend({queue:function(t,e){var r=2;return typeof t!="string"&&(e=t,t="fx",r--),arguments.length<r?a.queue(this[0],t):e===void 0?this:this.each(function(){var n=a.queue(this,t,e);a._queueHooks(this,t),t==="fx"&&n[0]!=="inprogress"&&a.dequeue(this,t)})},dequeue:function(t){return this.each(function(){a.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,u=a.Deferred(),l=this,f=this.length,v=function(){--n||u.resolveWith(l,[l])};for(typeof t!="string"&&(e=t,t=void 0),t=t||"fx";f--;)r=R.get(l[f],t+"queueHooks"),r&&r.empty&&(n++,r.empty.add(v));return v(),u.promise(e)}});var ci=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=new RegExp("^(?:([+-])=|)("+ci+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],Nt=q.documentElement,Kt=function(t){return a.contains(t.ownerDocument,t)},Ss={composed:!0};Nt.getRootNode&&(Kt=function(t){return a.contains(t.ownerDocument,t)||t.getRootNode(Ss)===t.ownerDocument});var ye=function(t,e){return t=e||t,t.style.display==="none"||t.style.display===""&&Kt(t)&&a.css(t,"display")==="none"};function pi(t,e,r,n){var u,l,f=20,v=n?function(){return n.cur()}:function(){return a.css(t,e,"")},g=v(),w=r&&r[3]||(a.cssNumber[e]?"":"px"),X=t.nodeType&&(a.cssNumber[e]||w!=="px"&&+g)&&he.exec(a.css(t,e));if(X&&X[3]!==w){for(g=g/2,w=w||X[3],X=+g||1;f--;)a.style(t,e,X+w),(1-l)*(1-(l=v()/g||.5))<=0&&(f=0),X=X/l;X=X*2,a.style(t,e,X+w),r=r||[]}return r&&(X=+X||+g||0,u=r[1]?X+(r[1]+1)*r[2]:+r[2],n&&(n.unit=w,n.start=X,n.end=u)),u}var gi={};function vs(t){var e,r=t.ownerDocument,n=t.nodeName,u=gi[n];return u||(e=r.body.appendChild(r.createElement(n)),u=a.css(e,"display"),e.parentNode.removeChild(e),u==="none"&&(u="block"),gi[n]=u,u)}function Vt(t,e){for(var r,n,u=[],l=0,f=t.length;l<f;l++)n=t[l],n.style&&(r=n.style.display,e?(r==="none"&&(u[l]=R.get(n,"display")||null,u[l]||(n.style.display="")),n.style.display===""&&ye(n)&&(u[l]=vs(n))):r!=="none"&&(u[l]="none",R.set(n,"display",r)));for(l=0;l<f;l++)u[l]!=null&&(t[l].style.display=u[l]);return t}a.fn.extend({show:function(){return Vt(this,!0)},hide:function(){return Vt(this)},toggle:function(t){return typeof t=="boolean"?t?this.show():this.hide():this.each(function(){ye(this)?a(this).show():a(this).hide()})}});var oe=/^(?:checkbox|radio)$/i,mi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Si=/^$|^module$|\/(?:java|ecma)script/i;(function(){var t=q.createDocumentFragment(),e=t.appendChild(q.createElement("div")),r=q.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),e.appendChild(r),G.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",G.option=!!e.lastChild})();var gt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,G.option||(gt.optgroup=gt.option=[1,"<select multiple='multiple'>","</select>"]);function dt(t,e){var r;return typeof t.getElementsByTagName<"u"?r=t.getElementsByTagName(e||"*"):typeof t.querySelectorAll<"u"?r=t.querySelectorAll(e||"*"):r=[],e===void 0||e&&st(t,e)?a.merge([t],r):r}function Be(t,e){for(var r=0,n=t.length;r<n;r++)R.set(t[r],"globalEval",!e||R.get(e[r],"globalEval"))}var Cs=/<|&#?\w+;/;function vi(t,e,r,n,u){for(var l,f,v,g,w,X,Y=e.createDocumentFragment(),D=[],W=0,U=t.length;W<U;W++)if(l=t[W],l||l===0)if(It(l)==="object")a.merge(D,l.nodeType?[l]:l);else if(!Cs.test(l))D.push(e.createTextNode(l));else{for(f=f||Y.appendChild(e.createElement("div")),v=(mi.exec(l)||["",""])[1].toLowerCase(),g=gt[v]||gt._default,f.innerHTML=g[1]+a.htmlPrefilter(l)+g[2],X=g[0];X--;)f=f.lastChild;a.merge(D,f.childNodes),f=Y.firstChild,f.textContent=""}for(Y.textContent="",W=0;l=D[W++];){if(n&&a.inArray(l,n)>-1){u&&u.push(l);continue}if(w=Kt(l),f=dt(Y.appendChild(l),"script"),w&&Be(f),r)for(X=0;l=f[X++];)Si.test(l.type||"")&&r.push(l)}return Y}var Ci=/^([^.]*)(?:\.(.+)|)/;function zt(){return!0}function Qt(){return!1}function He(t,e,r,n,u,l){var f,v;if(typeof e=="object"){typeof r!="string"&&(n=n||r,r=void 0);for(v in e)He(t,v,r,n,e[v],l);return t}if(n==null&&u==null?(u=r,n=r=void 0):u==null&&(typeof r=="string"?(u=n,n=void 0):(u=n,n=r,r=void 0)),u===!1)u=Qt;else if(!u)return t;return l===1&&(f=u,u=function(g){return a().off(g),f.apply(this,arguments)},u.guid=f.guid||(f.guid=a.guid++)),t.each(function(){a.event.add(this,e,u,n,r)})}a.event={global:{},add:function(t,e,r,n,u){var l,f,v,g,w,X,Y,D,W,U,Q,$=R.get(t);if(ne(t))for(r.handler&&(l=r,r=l.handler,u=l.selector),u&&a.find.matchesSelector(Nt,u),r.guid||(r.guid=a.guid++),(g=$.events)||(g=$.events=Object.create(null)),(f=$.handle)||(f=$.handle=function(ht){return typeof a<"u"&&a.event.triggered!==ht.type?a.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Tt)||[""],w=e.length;w--;)v=Ci.exec(e[w])||[],W=Q=v[1],U=(v[2]||"").split(".").sort(),W&&(Y=a.event.special[W]||{},W=(u?Y.delegateType:Y.bindType)||W,Y=a.event.special[W]||{},X=a.extend({type:W,origType:Q,data:n,handler:r,guid:r.guid,selector:u,needsContext:u&&a.expr.match.needsContext.test(u),namespace:U.join(".")},l),(D=g[W])||(D=g[W]=[],D.delegateCount=0,(!Y.setup||Y.setup.call(t,n,U,f)===!1)&&t.addEventListener&&t.addEventListener(W,f)),Y.add&&(Y.add.call(t,X),X.handler.guid||(X.handler.guid=r.guid)),u?D.splice(D.delegateCount++,0,X):D.push(X),a.event.global[W]=!0)},remove:function(t,e,r,n,u){var l,f,v,g,w,X,Y,D,W,U,Q,$=R.hasData(t)&&R.get(t);if(!(!$||!(g=$.events))){for(e=(e||"").match(Tt)||[""],w=e.length;w--;){if(v=Ci.exec(e[w])||[],W=Q=v[1],U=(v[2]||"").split(".").sort(),!W){for(W in g)a.event.remove(t,W+e[w],r,n,!0);continue}for(Y=a.event.special[W]||{},W=(n?Y.delegateType:Y.bindType)||W,D=g[W]||[],v=v[2]&&new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"),f=l=D.length;l--;)X=D[l],(u||Q===X.origType)&&(!r||r.guid===X.guid)&&(!v||v.test(X.namespace))&&(!n||n===X.selector||n==="**"&&X.selector)&&(D.splice(l,1),X.selector&&D.delegateCount--,Y.remove&&Y.remove.call(t,X));f&&!D.length&&((!Y.teardown||Y.teardown.call(t,U,$.handle)===!1)&&a.removeEvent(t,W,$.handle),delete g[W])}a.isEmptyObject(g)&&R.remove(t,"handle events")}},dispatch:function(t){var e,r,n,u,l,f,v=new Array(arguments.length),g=a.event.fix(t),w=(R.get(this,"events")||Object.create(null))[g.type]||[],X=a.event.special[g.type]||{};for(v[0]=g,e=1;e<arguments.length;e++)v[e]=arguments[e];if(g.delegateTarget=this,!(X.preDispatch&&X.preDispatch.call(this,g)===!1)){for(f=a.event.handlers.call(this,g,w),e=0;(u=f[e++])&&!g.isPropagationStopped();)for(g.currentTarget=u.elem,r=0;(l=u.handlers[r++])&&!g.isImmediatePropagationStopped();)(!g.rnamespace||l.namespace===!1||g.rnamespace.test(l.namespace))&&(g.handleObj=l,g.data=l.data,n=((a.event.special[l.origType]||{}).handle||l.handler).apply(u.elem,v),n!==void 0&&(g.result=n)===!1&&(g.preventDefault(),g.stopPropagation()));return X.postDispatch&&X.postDispatch.call(this,g),g.result}},handlers:function(t,e){var r,n,u,l,f,v=[],g=e.delegateCount,w=t.target;if(g&&w.nodeType&&!(t.type==="click"&&t.button>=1)){for(;w!==this;w=w.parentNode||this)if(w.nodeType===1&&!(t.type==="click"&&w.disabled===!0)){for(l=[],f={},r=0;r<g;r++)n=e[r],u=n.selector+" ",f[u]===void 0&&(f[u]=n.needsContext?a(u,this).index(w)>-1:a.find(u,this,null,[w]).length),f[u]&&l.push(n);l.length&&v.push({elem:w,handlers:l})}}return w=this,g<e.length&&v.push({elem:w,handlers:e.slice(g)}),v},addProp:function(t,e){Object.defineProperty(a.Event.prototype,t,{enumerable:!0,configurable:!0,get:x(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(r){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:r})}})},fix:function(t){return t[a.expando]?t:new a.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return oe.test(e.type)&&e.click&&st(e,"input")&&we(e,"click",!0),!1},trigger:function(t){var e=this||t;return oe.test(e.type)&&e.click&&st(e,"input")&&we(e,"click"),!0},_default:function(t){var e=t.target;return oe.test(e.type)&&e.click&&st(e,"input")&&R.get(e,"click")||st(e,"a")}},beforeunload:{postDispatch:function(t){t.result!==void 0&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}};function we(t,e,r){if(!r){R.get(t,e)===void 0&&a.event.add(t,e,zt);return}R.set(t,e,!1),a.event.add(t,e,{namespace:!1,handler:function(n){var u,l=R.get(this,e);if(n.isTrigger&1&&this[e]){if(l)(a.event.special[e]||{}).delegateType&&n.stopPropagation();else if(l=d.call(arguments),R.set(this,e,l),this[e](),u=R.get(this,e),R.set(this,e,!1),l!==u)return n.stopImmediatePropagation(),n.preventDefault(),u}else l&&(R.set(this,e,a.event.trigger(l[0],l.slice(1),this)),n.stopPropagation(),n.isImmediatePropagationStopped=zt)}})}a.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},a.Event=function(t,e){if(!(this instanceof a.Event))return new a.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===void 0&&t.returnValue===!1?zt:Qt,this.target=t.target&&t.target.nodeType===3?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&a.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[a.expando]=!0},a.Event.prototype={constructor:a.Event,isDefaultPrevented:Qt,isPropagationStopped:Qt,isImmediatePropagationStopped:Qt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=zt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=zt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=zt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},a.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},a.event.addProp),a.each({focus:"focusin",blur:"focusout"},function(t,e){function r(n){if(q.documentMode){var u=R.get(this,"handle"),l=a.event.fix(n);l.type=n.type==="focusin"?"focus":"blur",l.isSimulated=!0,u(n),l.target===l.currentTarget&&u(l)}else a.event.simulate(e,n.target,a.event.fix(n))}a.event.special[t]={setup:function(){var n;if(we(this,t,!0),q.documentMode)n=R.get(this,e),n||this.addEventListener(e,r),R.set(this,e,(n||0)+1);else return!1},trigger:function(){return we(this,t),!0},teardown:function(){var n;if(q.documentMode)n=R.get(this,e)-1,n?R.set(this,e,n):(this.removeEventListener(e,r),R.remove(this,e));else return!1},_default:function(n){return R.get(n.target,t)},delegateType:e},a.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,u=q.documentMode?this:n,l=R.get(u,e);l||(q.documentMode?this.addEventListener(e,r):n.addEventListener(t,r,!0)),R.set(u,e,(l||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,u=q.documentMode?this:n,l=R.get(u,e)-1;l?R.set(u,e,l):(q.documentMode?this.removeEventListener(e,r):n.removeEventListener(t,r,!0),R.remove(u,e))}}}),a.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){a.event.special[t]={delegateType:e,bindType:e,handle:function(r){var n,u=this,l=r.relatedTarget,f=r.handleObj;return(!l||l!==u&&!a.contains(u,l))&&(r.type=f.origType,n=f.handler.apply(this,arguments),r.type=e),n}}}),a.fn.extend({on:function(t,e,r,n){return He(this,t,e,r,n)},one:function(t,e,r,n){return He(this,t,e,r,n,1)},off:function(t,e,r){var n,u;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,a(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if(typeof t=="object"){for(u in t)this.off(u,e,t[u]);return this}return(e===!1||typeof e=="function")&&(r=e,e=void 0),r===!1&&(r=Qt),this.each(function(){a.event.remove(this,t,r,e)})}});var ys=/<script|<style|<link/i,ws=/checked\s*(?:[^=]|=\s*.checked.)/i,Ts=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function yi(t,e){return st(t,"table")&&st(e.nodeType!==11?e:e.firstChild,"tr")&&a(t).children("tbody")[0]||t}function bs(t){return t.type=(t.getAttribute("type")!==null)+"/"+t.type,t}function Ms(t){return(t.type||"").slice(0,5)==="true/"?t.type=t.type.slice(5):t.removeAttribute("type"),t}function wi(t,e){var r,n,u,l,f,v,g;if(e.nodeType===1){if(R.hasData(t)&&(l=R.get(t),g=l.events,g)){R.remove(e,"handle events");for(u in g)for(r=0,n=g[u].length;r<n;r++)a.event.add(e,u,g[u][r])}ft.hasData(t)&&(f=ft.access(t),v=a.extend({},f),ft.set(e,v))}}function Ds(t,e){var r=e.nodeName.toLowerCase();r==="input"&&oe.test(t.type)?e.checked=t.checked:(r==="input"||r==="textarea")&&(e.defaultValue=t.defaultValue)}function Zt(t,e,r,n){e=m(e);var u,l,f,v,g,w,X=0,Y=t.length,D=Y-1,W=e[0],U=x(W);if(U||Y>1&&typeof W=="string"&&!G.checkClone&&ws.test(W))return t.each(function(Q){var $=t.eq(Q);U&&(e[0]=W.call(this,Q,$.html())),Zt($,e,r,n)});if(Y&&(u=vi(e,t[0].ownerDocument,!1,t,n),l=u.firstChild,u.childNodes.length===1&&(u=l),l||n)){for(f=a.map(dt(u,"script"),bs),v=f.length;X<Y;X++)g=u,X!==D&&(g=a.clone(g,!0,!0),v&&a.merge(f,dt(g,"script"))),r.call(t[X],g,X);if(v)for(w=f[f.length-1].ownerDocument,a.map(f,Ms),X=0;X<v;X++)g=f[X],Si.test(g.type||"")&&!R.access(g,"globalEval")&&a.contains(w,g)&&(g.src&&(g.type||"").toLowerCase()!=="module"?a._evalUrl&&!g.noModule&&a._evalUrl(g.src,{nonce:g.nonce||g.getAttribute("nonce")},w):Jt(g.textContent.replace(Ts,""),g,w))}return t}function Ti(t,e,r){for(var n,u=e?a.filter(e,t):t,l=0;(n=u[l])!=null;l++)!r&&n.nodeType===1&&a.cleanData(dt(n)),n.parentNode&&(r&&Kt(n)&&Be(dt(n,"script")),n.parentNode.removeChild(n));return t}a.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var n,u,l,f,v=t.cloneNode(!0),g=Kt(t);if(!G.noCloneChecked&&(t.nodeType===1||t.nodeType===11)&&!a.isXMLDoc(t))for(f=dt(v),l=dt(t),n=0,u=l.length;n<u;n++)Ds(l[n],f[n]);if(e)if(r)for(l=l||dt(t),f=f||dt(v),n=0,u=l.length;n<u;n++)wi(l[n],f[n]);else wi(t,v);return f=dt(v,"script"),f.length>0&&Be(f,!g&&dt(t,"script")),v},cleanData:function(t){for(var e,r,n,u=a.event.special,l=0;(r=t[l])!==void 0;l++)if(ne(r)){if(e=r[R.expando]){if(e.events)for(n in e.events)u[n]?a.event.remove(r,n):a.removeEvent(r,n,e.handle);r[R.expando]=void 0}r[ft.expando]&&(r[ft.expando]=void 0)}}}),a.fn.extend({detach:function(t){return Ti(this,t,!0)},remove:function(t){return Ti(this,t)},text:function(t){return Ft(this,function(e){return e===void 0?a.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=e)})},null,t,arguments.length)},append:function(){return Zt(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=yi(this,t);e.appendChild(t)}})},prepend:function(){return Zt(this,arguments,function(t){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var e=yi(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;(t=this[e])!=null;e++)t.nodeType===1&&(a.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=t??!1,e=e??t,this.map(function(){return a.clone(this,t,e)})},html:function(t){return Ft(this,function(e){var r=this[0]||{},n=0,u=this.length;if(e===void 0&&r.nodeType===1)return r.innerHTML;if(typeof e=="string"&&!ys.test(e)&&!gt[(mi.exec(e)||["",""])[1].toLowerCase()]){e=a.htmlPrefilter(e);try{for(;n<u;n++)r=this[n]||{},r.nodeType===1&&(a.cleanData(dt(r,!1)),r.innerHTML=e);r=0}catch{}}r&&this.empty().append(e)},null,t,arguments.length)},replaceWith:function(){var t=[];return Zt(this,arguments,function(e){var r=this.parentNode;a.inArray(this,t)<0&&(a.cleanData(dt(this)),r&&r.replaceChild(e,this))},t)}}),a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){a.fn[t]=function(r){for(var n,u=[],l=a(r),f=l.length-1,v=0;v<=f;v++)n=v===f?this:this.clone(!0),a(l[v])[e](n),C.apply(u,n.get());return this.pushStack(u)}});var Re=new RegExp("^("+ci+")(?!px)[a-z%]+$","i"),Ee=/^--/,Te=function(t){var e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=o),e.getComputedStyle(t)},bi=function(t,e,r){var n,u,l={};for(u in e)l[u]=t.style[u],t.style[u]=e[u];n=r.call(t);for(u in e)t.style[u]=l[u];return n},ks=new RegExp(Pt.join("|"),"i");(function(){function t(){if(w){g.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",w.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Nt.appendChild(g).appendChild(w);var X=o.getComputedStyle(w);r=X.top!=="1%",v=e(X.marginLeft)===12,w.style.right="60%",l=e(X.right)===36,n=e(X.width)===36,w.style.position="absolute",u=e(w.offsetWidth/3)===12,Nt.removeChild(g),w=null}}function e(X){return Math.round(parseFloat(X))}var r,n,u,l,f,v,g=q.createElement("div"),w=q.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle=w.style.backgroundClip==="content-box",a.extend(G,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),l},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),v},scrollboxSize:function(){return t(),u},reliableTrDimensions:function(){var X,Y,D,W;return f==null&&(X=q.createElement("table"),Y=q.createElement("tr"),D=q.createElement("div"),X.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Y.style.cssText="box-sizing:content-box;border:1px solid",Y.style.height="1px",D.style.height="9px",D.style.display="block",Nt.appendChild(X).appendChild(Y).appendChild(D),W=o.getComputedStyle(Y),f=parseInt(W.height,10)+parseInt(W.borderTopWidth,10)+parseInt(W.borderBottomWidth,10)===Y.offsetHeight,Nt.removeChild(X)),f}}))})();function ue(t,e,r){var n,u,l,f,v=Ee.test(e),g=t.style;return r=r||Te(t),r&&(f=r.getPropertyValue(e)||r[e],v&&f&&(f=f.replace(re,"$1")||void 0),f===""&&!Kt(t)&&(f=a.style(t,e)),!G.pixelBoxStyles()&&Re.test(f)&&ks.test(e)&&(n=g.width,u=g.minWidth,l=g.maxWidth,g.minWidth=g.maxWidth=g.width=f,f=r.width,g.width=n,g.minWidth=u,g.maxWidth=l)),f!==void 0?f+"":f}function Mi(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}var Di=["Webkit","Moz","ms"],ki=q.createElement("div").style,Xi={};function Xs(t){for(var e=t[0].toUpperCase()+t.slice(1),r=Di.length;r--;)if(t=Di[r]+e,t in ki)return t}function Ne(t){var e=a.cssProps[t]||Xi[t];return e||(t in ki?t:Xi[t]=Xs(t)||t)}var Ls=/^(none|table(?!-c[ea]).+)/,Ys={position:"absolute",visibility:"hidden",display:"block"},Li={letterSpacing:"0",fontWeight:"400"};function Yi(t,e,r){var n=he.exec(e);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):e}function Ge(t,e,r,n,u,l){var f=e==="width"?1:0,v=0,g=0,w=0;if(r===(n?"border":"content"))return 0;for(;f<4;f+=2)r==="margin"&&(w+=a.css(t,r+Pt[f],!0,u)),n?(r==="content"&&(g-=a.css(t,"padding"+Pt[f],!0,u)),r!=="margin"&&(g-=a.css(t,"border"+Pt[f]+"Width",!0,u))):(g+=a.css(t,"padding"+Pt[f],!0,u),r!=="padding"?g+=a.css(t,"border"+Pt[f]+"Width",!0,u):v+=a.css(t,"border"+Pt[f]+"Width",!0,u));return!n&&l>=0&&(g+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-l-g-v-.5))||0),g+w}function Ii(t,e,r){var n=Te(t),u=!G.boxSizingReliable()||r,l=u&&a.css(t,"boxSizing",!1,n)==="border-box",f=l,v=ue(t,e,n),g="offset"+e[0].toUpperCase()+e.slice(1);if(Re.test(v)){if(!r)return v;v="auto"}return(!G.boxSizingReliable()&&l||!G.reliableTrDimensions()&&st(t,"tr")||v==="auto"||!parseFloat(v)&&a.css(t,"display",!1,n)==="inline")&&t.getClientRects().length&&(l=a.css(t,"boxSizing",!1,n)==="border-box",f=g in t,f&&(v=t[g])),v=parseFloat(v)||0,v+Ge(t,e,r||(l?"border":"content"),f,n,v)+"px"}a.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=ue(t,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,r,n){if(!(!t||t.nodeType===3||t.nodeType===8||!t.style)){var u,l,f,v=bt(e),g=Ee.test(e),w=t.style;if(g||(e=Ne(v)),f=a.cssHooks[e]||a.cssHooks[v],r!==void 0){if(l=typeof r,l==="string"&&(u=he.exec(r))&&u[1]&&(r=pi(t,e,u),l="number"),r==null||r!==r)return;l==="number"&&!g&&(r+=u&&u[3]||(a.cssNumber[v]?"":"px")),!G.clearCloneStyle&&r===""&&e.indexOf("background")===0&&(w[e]="inherit"),(!f||!("set"in f)||(r=f.set(t,r,n))!==void 0)&&(g?w.setProperty(e,r):w[e]=r)}else return f&&"get"in f&&(u=f.get(t,!1,n))!==void 0?u:w[e]}},css:function(t,e,r,n){var u,l,f,v=bt(e),g=Ee.test(e);return g||(e=Ne(v)),f=a.cssHooks[e]||a.cssHooks[v],f&&"get"in f&&(u=f.get(t,!0,r)),u===void 0&&(u=ue(t,e,n)),u==="normal"&&e in Li&&(u=Li[e]),r===""||r?(l=parseFloat(u),r===!0||isFinite(l)?l||0:u):u}}),a.each(["height","width"],function(t,e){a.cssHooks[e]={get:function(r,n,u){if(n)return Ls.test(a.css(r,"display"))&&(!r.getClientRects().length||!r.getBoundingClientRect().width)?bi(r,Ys,function(){return Ii(r,e,u)}):Ii(r,e,u)},set:function(r,n,u){var l,f=Te(r),v=!G.scrollboxSize()&&f.position==="absolute",g=v||u,w=g&&a.css(r,"boxSizing",!1,f)==="border-box",X=u?Ge(r,e,u,w,f):0;return w&&v&&(X-=Math.ceil(r["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(f[e])-Ge(r,e,"border",!1,f)-.5)),X&&(l=he.exec(n))&&(l[3]||"px")!=="px"&&(r.style[e]=n,n=a.css(r,e)),Yi(r,n,X)}}}),a.cssHooks.marginLeft=Mi(G.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ue(t,"marginLeft"))||t.getBoundingClientRect().left-bi(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),a.each({margin:"",padding:"",border:"Width"},function(t,e){a.cssHooks[t+e]={expand:function(r){for(var n=0,u={},l=typeof r=="string"?r.split(" "):[r];n<4;n++)u[t+Pt[n]+e]=l[n]||l[n-2]||l[0];return u}},t!=="margin"&&(a.cssHooks[t+e].set=Yi)}),a.fn.extend({css:function(t,e){return Ft(this,function(r,n,u){var l,f,v={},g=0;if(Array.isArray(n)){for(l=Te(r),f=n.length;g<f;g++)v[n[g]]=a.css(r,n[g],!1,l);return v}return u!==void 0?a.style(r,n,u):a.css(r,n)},t,e,arguments.length>1)}});function ct(t,e,r,n,u){return new ct.prototype.init(t,e,r,n,u)}a.Tween=ct,ct.prototype={constructor:ct,init:function(t,e,r,n,u,l){this.elem=t,this.prop=r,this.easing=u||a.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=l||(a.cssNumber[r]?"":"px")},cur:function(){var t=ct.propHooks[this.prop];return t&&t.get?t.get(this):ct.propHooks._default.get(this)},run:function(t){var e,r=ct.propHooks[this.prop];return this.options.duration?this.pos=e=a.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(t){var e;return t.elem.nodeType!==1||t.elem[t.prop]!=null&&t.elem.style[t.prop]==null?t.elem[t.prop]:(e=a.css(t.elem,t.prop,""),!e||e==="auto"?0:e)},set:function(t){a.fx.step[t.prop]?a.fx.step[t.prop](t):t.elem.nodeType===1&&(a.cssHooks[t.prop]||t.elem.style[Ne(t.prop)]!=null)?a.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},a.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},a.fx=ct.prototype.init,a.fx.step={};var te,be,Is=/^(?:toggle|show|hide)$/,Ws=/queueHooks$/;function je(){be&&(q.hidden===!1&&o.requestAnimationFrame?o.requestAnimationFrame(je):o.setTimeout(je,a.fx.interval),a.fx.tick())}function Wi(){return o.setTimeout(function(){te=void 0}),te=Date.now()}function Me(t,e){var r,n=0,u={height:t};for(e=e?1:0;n<4;n+=2-e)r=Pt[n],u["margin"+r]=u["padding"+r]=t;return e&&(u.opacity=u.width=t),u}function Fi(t,e,r){for(var n,u=(vt.tweeners[e]||[]).concat(vt.tweeners["*"]),l=0,f=u.length;l<f;l++)if(n=u[l].call(r,e,t))return n}function Fs(t,e,r){var n,u,l,f,v,g,w,X,Y="width"in e||"height"in e,D=this,W={},U=t.style,Q=t.nodeType&&ye(t),$=R.get(t,"fxshow");r.queue||(f=a._queueHooks(t,"fx"),f.unqueued==null&&(f.unqueued=0,v=f.empty.fire,f.empty.fire=function(){f.unqueued||v()}),f.unqueued++,D.always(function(){D.always(function(){f.unqueued--,a.queue(t,"fx").length||f.empty.fire()})}));for(n in e)if(u=e[n],Is.test(u)){if(delete e[n],l=l||u==="toggle",u===(Q?"hide":"show"))if(u==="show"&&$&&$[n]!==void 0)Q=!0;else continue;W[n]=$&&$[n]||a.style(t,n)}if(g=!a.isEmptyObject(e),!(!g&&a.isEmptyObject(W))){Y&&t.nodeType===1&&(r.overflow=[U.overflow,U.overflowX,U.overflowY],w=$&&$.display,w==null&&(w=R.get(t,"display")),X=a.css(t,"display"),X==="none"&&(w?X=w:(Vt([t],!0),w=t.style.display||w,X=a.css(t,"display"),Vt([t]))),(X==="inline"||X==="inline-block"&&w!=null)&&a.css(t,"float")==="none"&&(g||(D.done(function(){U.display=w}),w==null&&(X=U.display,w=X==="none"?"":X)),U.display="inline-block")),r.overflow&&(U.overflow="hidden",D.always(function(){U.overflow=r.overflow[0],U.overflowX=r.overflow[1],U.overflowY=r.overflow[2]})),g=!1;for(n in W)g||($?"hidden"in $&&(Q=$.hidden):$=R.access(t,"fxshow",{display:w}),l&&($.hidden=!Q),Q&&Vt([t],!0),D.done(function(){Q||Vt([t]),R.remove(t,"fxshow");for(n in W)a.style(t,n,W[n])})),g=Fi(Q?$[n]:0,n,D),n in $||($[n]=g.start,Q&&(g.end=g.start,g.start=0))}}function Ps(t,e){var r,n,u,l,f;for(r in t)if(n=bt(r),u=e[n],l=t[r],Array.isArray(l)&&(u=l[1],l=t[r]=l[0]),r!==n&&(t[n]=l,delete t[r]),f=a.cssHooks[n],f&&"expand"in f){l=f.expand(l),delete t[n];for(r in l)r in t||(t[r]=l[r],e[r]=u)}else e[n]=u}function vt(t,e,r){var n,u,l=0,f=vt.prefilters.length,v=a.Deferred().always(function(){delete g.elem}),g=function(){if(u)return!1;for(var Y=te||Wi(),D=Math.max(0,w.startTime+w.duration-Y),W=D/w.duration||0,U=1-W,Q=0,$=w.tweens.length;Q<$;Q++)w.tweens[Q].run(U);return v.notifyWith(t,[w,U,D]),U<1&&$?D:($||v.notifyWith(t,[w,1,0]),v.resolveWith(t,[w]),!1)},w=v.promise({elem:t,props:a.extend({},e),opts:a.extend(!0,{specialEasing:{},easing:a.easing._default},r),originalProperties:e,originalOptions:r,startTime:te||Wi(),duration:r.duration,tweens:[],createTween:function(Y,D){var W=a.Tween(t,w.opts,Y,D,w.opts.specialEasing[Y]||w.opts.easing);return w.tweens.push(W),W},stop:function(Y){var D=0,W=Y?w.tweens.length:0;if(u)return this;for(u=!0;D<W;D++)w.tweens[D].run(1);return Y?(v.notifyWith(t,[w,1,0]),v.resolveWith(t,[w,Y])):v.rejectWith(t,[w,Y]),this}}),X=w.props;for(Ps(X,w.opts.specialEasing);l<f;l++)if(n=vt.prefilters[l].call(w,t,X,w.opts),n)return x(n.stop)&&(a._queueHooks(w.elem,w.opts.queue).stop=n.stop.bind(n)),n;return a.map(X,Fi,w),x(w.opts.start)&&w.opts.start.call(t,w),w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always),a.fx.timer(a.extend(g,{elem:t,anim:w,queue:w.opts.queue})),w}a.Animation=a.extend(vt,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return pi(r.elem,t,he.exec(e),r),r}]},tweener:function(t,e){x(t)?(e=t,t=["*"]):t=t.match(Tt);for(var r,n=0,u=t.length;n<u;n++)r=t[n],vt.tweeners[r]=vt.tweeners[r]||[],vt.tweeners[r].unshift(e)},prefilters:[Fs],prefilter:function(t,e){e?vt.prefilters.unshift(t):vt.prefilters.push(t)}}),a.speed=function(t,e,r){var n=t&&typeof t=="object"?a.extend({},t):{complete:r||!r&&e||x(t)&&t,duration:t,easing:r&&e||e&&!x(e)&&e};return a.fx.off?n.duration=0:typeof n.duration!="number"&&(n.duration in a.fx.speeds?n.duration=a.fx.speeds[n.duration]:n.duration=a.fx.speeds._default),(n.queue==null||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){x(n.old)&&n.old.call(this),n.queue&&a.dequeue(this,n.queue)},n},a.fn.extend({fadeTo:function(t,e,r,n){return this.filter(ye).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var u=a.isEmptyObject(t),l=a.speed(e,r,n),f=function(){var v=vt(this,a.extend({},t),l);(u||R.get(this,"finish"))&&v.stop(!0)};return f.finish=f,u||l.queue===!1?this.each(f):this.queue(l.queue,f)},stop:function(t,e,r){var n=function(u){var l=u.stop;delete u.stop,l(r)};return typeof t!="string"&&(r=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var u=!0,l=t!=null&&t+"queueHooks",f=a.timers,v=R.get(this);if(l)v[l]&&v[l].stop&&n(v[l]);else for(l in v)v[l]&&v[l].stop&&Ws.test(l)&&n(v[l]);for(l=f.length;l--;)f[l].elem===this&&(t==null||f[l].queue===t)&&(f[l].anim.stop(r),u=!1,f.splice(l,1));(u||!r)&&a.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,r=R.get(this),n=r[t+"queue"],u=r[t+"queueHooks"],l=a.timers,f=n?n.length:0;for(r.finish=!0,a.queue(this,t,[]),u&&u.stop&&u.stop.call(this,!0),e=l.length;e--;)l[e].elem===this&&l[e].queue===t&&(l[e].anim.stop(!0),l.splice(e,1));for(e=0;e<f;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),a.each(["toggle","show","hide"],function(t,e){var r=a.fn[e];a.fn[e]=function(n,u,l){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(Me(e,!0),n,u,l)}}),a.each({slideDown:Me("show"),slideUp:Me("hide"),slideToggle:Me("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){a.fn[t]=function(r,n,u){return this.animate(e,r,n,u)}}),a.timers=[],a.fx.tick=function(){var t,e=0,r=a.timers;for(te=Date.now();e<r.length;e++)t=r[e],!t()&&r[e]===t&&r.splice(e--,1);r.length||a.fx.stop(),te=void 0},a.fx.timer=function(t){a.timers.push(t),a.fx.start()},a.fx.interval=13,a.fx.start=function(){be||(be=!0,je())},a.fx.stop=function(){be=null},a.fx.speeds={slow:600,fast:200,_default:400},a.fn.delay=function(t,e){return t=a.fx&&a.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(r,n){var u=o.setTimeout(r,t);n.stop=function(){o.clearTimeout(u)}})},function(){var t=q.createElement("input"),e=q.createElement("select"),r=e.appendChild(q.createElement("option"));t.type="checkbox",G.checkOn=t.value!=="",G.optSelected=r.selected,t=q.createElement("input"),t.value="t",t.type="radio",G.radioValue=t.value==="t"}();var Pi,le=a.expr.attrHandle;a.fn.extend({attr:function(t,e){return Ft(this,a.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){a.removeAttr(this,t)})}}),a.extend({attr:function(t,e,r){var n,u,l=t.nodeType;if(!(l===3||l===8||l===2)){if(typeof t.getAttribute>"u")return a.prop(t,e,r);if((l!==1||!a.isXMLDoc(t))&&(u=a.attrHooks[e.toLowerCase()]||(a.expr.match.bool.test(e)?Pi:void 0)),r!==void 0){if(r===null){a.removeAttr(t,e);return}return u&&"set"in u&&(n=u.set(t,r,e))!==void 0?n:(t.setAttribute(e,r+""),r)}return u&&"get"in u&&(n=u.get(t,e))!==null?n:(n=a.find.attr(t,e),n??void 0)}},attrHooks:{type:{set:function(t,e){if(!G.radioValue&&e==="radio"&&st(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,n=0,u=e&&e.match(Tt);if(u&&t.nodeType===1)for(;r=u[n++];)t.removeAttribute(r)}}),Pi={set:function(t,e,r){return e===!1?a.removeAttr(t,r):t.setAttribute(r,r),r}},a.each(a.expr.match.bool.source.match(/\w+/g),function(t,e){var r=le[e]||a.find.attr;le[e]=function(n,u,l){var f,v,g=u.toLowerCase();return l||(v=le[g],le[g]=f,f=r(n,u,l)!=null?g:null,le[g]=v),f}});var Os=/^(?:input|select|textarea|button)$/i,As=/^(?:a|area)$/i;a.fn.extend({prop:function(t,e){return Ft(this,a.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[a.propFix[t]||t]})}}),a.extend({prop:function(t,e,r){var n,u,l=t.nodeType;if(!(l===3||l===8||l===2))return(l!==1||!a.isXMLDoc(t))&&(e=a.propFix[e]||e,u=a.propHooks[e]),r!==void 0?u&&"set"in u&&(n=u.set(t,r,e))!==void 0?n:t[e]=r:u&&"get"in u&&(n=u.get(t,e))!==null?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=a.find.attr(t,"tabindex");return e?parseInt(e,10):Os.test(t.nodeName)||As.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),G.optSelected||(a.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),a.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){a.propFix[this.toLowerCase()]=this});function Gt(t){var e=t.match(Tt)||[];return e.join(" ")}function jt(t){return t.getAttribute&&t.getAttribute("class")||""}function qe(t){return Array.isArray(t)?t:typeof t=="string"?t.match(Tt)||[]:[]}a.fn.extend({addClass:function(t){var e,r,n,u,l,f;return x(t)?this.each(function(v){a(this).addClass(t.call(this,v,jt(this)))}):(e=qe(t),e.length?this.each(function(){if(n=jt(this),r=this.nodeType===1&&" "+Gt(n)+" ",r){for(l=0;l<e.length;l++)u=e[l],r.indexOf(" "+u+" ")<0&&(r+=u+" ");f=Gt(r),n!==f&&this.setAttribute("class",f)}}):this)},removeClass:function(t){var e,r,n,u,l,f;return x(t)?this.each(function(v){a(this).removeClass(t.call(this,v,jt(this)))}):arguments.length?(e=qe(t),e.length?this.each(function(){if(n=jt(this),r=this.nodeType===1&&" "+Gt(n)+" ",r){for(l=0;l<e.length;l++)for(u=e[l];r.indexOf(" "+u+" ")>-1;)r=r.replace(" "+u+" "," ");f=Gt(r),n!==f&&this.setAttribute("class",f)}}):this):this.attr("class","")},toggleClass:function(t,e){var r,n,u,l,f=typeof t,v=f==="string"||Array.isArray(t);return x(t)?this.each(function(g){a(this).toggleClass(t.call(this,g,jt(this),e),e)}):typeof e=="boolean"&&v?e?this.addClass(t):this.removeClass(t):(r=qe(t),this.each(function(){if(v)for(l=a(this),u=0;u<r.length;u++)n=r[u],l.hasClass(n)?l.removeClass(n):l.addClass(n);else(t===void 0||f==="boolean")&&(n=jt(this),n&&R.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||t===!1?"":R.get(this,"__className__")||""))}))},hasClass:function(t){var e,r,n=0;for(e=" "+t+" ";r=this[n++];)if(r.nodeType===1&&(" "+Gt(jt(r))+" ").indexOf(e)>-1)return!0;return!1}});var Bs=/\r/g;a.fn.extend({val:function(t){var e,r,n,u=this[0];return arguments.length?(n=x(t),this.each(function(l){var f;this.nodeType===1&&(n?f=t.call(this,l,a(this).val()):f=t,f==null?f="":typeof f=="number"?f+="":Array.isArray(f)&&(f=a.map(f,function(v){return v==null?"":v+""})),e=a.valHooks[this.type]||a.valHooks[this.nodeName.toLowerCase()],(!e||!("set"in e)||e.set(this,f,"value")===void 0)&&(this.value=f))})):u?(e=a.valHooks[u.type]||a.valHooks[u.nodeName.toLowerCase()],e&&"get"in e&&(r=e.get(u,"value"))!==void 0?r:(r=u.value,typeof r=="string"?r.replace(Bs,""):r??"")):void 0}}),a.extend({valHooks:{option:{get:function(t){var e=a.find.attr(t,"value");return e??Gt(a.text(t))}},select:{get:function(t){var e,r,n,u=t.options,l=t.selectedIndex,f=t.type==="select-one",v=f?null:[],g=f?l+1:u.length;for(l<0?n=g:n=f?l:0;n<g;n++)if(r=u[n],(r.selected||n===l)&&!r.disabled&&(!r.parentNode.disabled||!st(r.parentNode,"optgroup"))){if(e=a(r).val(),f)return e;v.push(e)}return v},set:function(t,e){for(var r,n,u=t.options,l=a.makeArray(e),f=u.length;f--;)n=u[f],(n.selected=a.inArray(a.valHooks.option.get(n),l)>-1)&&(r=!0);return r||(t.selectedIndex=-1),l}}}}),a.each(["radio","checkbox"],function(){a.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=a.inArray(a(t).val(),e)>-1}},G.checkOn||(a.valHooks[this].get=function(t){return t.getAttribute("value")===null?"on":t.value})});var fe=o.location,Oi={guid:Date.now()},xe=/\?/;a.parseXML=function(t){var e,r;if(!t||typeof t!="string")return null;try{e=new o.DOMParser().parseFromString(t,"text/xml")}catch{}return r=e&&e.getElementsByTagName("parsererror")[0],(!e||r)&&a.error("Invalid XML: "+(r?a.map(r.childNodes,function(n){return n.textContent}).join(`
`):t)),e};var Ai=/^(?:focusinfocus|focusoutblur)$/,Bi=function(t){t.stopPropagation()};a.extend(a.event,{trigger:function(t,e,r,n){var u,l,f,v,g,w,X,Y,D=[r||q],W=N.call(t,"type")?t.type:t,U=N.call(t,"namespace")?t.namespace.split("."):[];if(l=Y=f=r=r||q,!(r.nodeType===3||r.nodeType===8)&&!Ai.test(W+a.event.triggered)&&(W.indexOf(".")>-1&&(U=W.split("."),W=U.shift(),U.sort()),g=W.indexOf(":")<0&&"on"+W,t=t[a.expando]?t:new a.Event(W,typeof t=="object"&&t),t.isTrigger=n?2:3,t.namespace=U.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=e==null?[t]:a.makeArray(e,[t]),X=a.event.special[W]||{},!(!n&&X.trigger&&X.trigger.apply(r,e)===!1))){if(!n&&!X.noBubble&&!Bt(r)){for(v=X.delegateType||W,Ai.test(v+W)||(l=l.parentNode);l;l=l.parentNode)D.push(l),f=l;f===(r.ownerDocument||q)&&D.push(f.defaultView||f.parentWindow||o)}for(u=0;(l=D[u++])&&!t.isPropagationStopped();)Y=l,t.type=u>1?v:X.bindType||W,w=(R.get(l,"events")||Object.create(null))[t.type]&&R.get(l,"handle"),w&&w.apply(l,e),w=g&&l[g],w&&w.apply&&ne(l)&&(t.result=w.apply(l,e),t.result===!1&&t.preventDefault());return t.type=W,!n&&!t.isDefaultPrevented()&&(!X._default||X._default.apply(D.pop(),e)===!1)&&ne(r)&&g&&x(r[W])&&!Bt(r)&&(f=r[g],f&&(r[g]=null),a.event.triggered=W,t.isPropagationStopped()&&Y.addEventListener(W,Bi),r[W](),t.isPropagationStopped()&&Y.removeEventListener(W,Bi),a.event.triggered=void 0,f&&(r[g]=f)),t.result}},simulate:function(t,e,r){var n=a.extend(new a.Event,r,{type:t,isSimulated:!0});a.event.trigger(n,null,e)}}),a.fn.extend({trigger:function(t,e){return this.each(function(){a.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return a.event.trigger(t,e,r,!0)}});var Hs=/\[\]$/,Hi=/\r?\n/g,Rs=/^(?:submit|button|image|reset|file)$/i,Es=/^(?:input|select|textarea|keygen)/i;function Ue(t,e,r,n){var u;if(Array.isArray(e))a.each(e,function(l,f){r||Hs.test(t)?n(t,f):Ue(t+"["+(typeof f=="object"&&f!=null?l:"")+"]",f,r,n)});else if(!r&&It(e)==="object")for(u in e)Ue(t+"["+u+"]",e[u],r,n);else n(t,e)}a.param=function(t,e){var r,n=[],u=function(l,f){var v=x(f)?f():f;n[n.length]=encodeURIComponent(l)+"="+encodeURIComponent(v??"")};if(t==null)return"";if(Array.isArray(t)||t.jquery&&!a.isPlainObject(t))a.each(t,function(){u(this.name,this.value)});else for(r in t)Ue(r,t[r],e,u);return n.join("&")},a.fn.extend({serialize:function(){return a.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=a.prop(this,"elements");return t?a.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!a(this).is(":disabled")&&Es.test(this.nodeName)&&!Rs.test(t)&&(this.checked||!oe.test(t))}).map(function(t,e){var r=a(this).val();return r==null?null:Array.isArray(r)?a.map(r,function(n){return{name:e.name,value:n.replace(Hi,`\r
`)}}):{name:e.name,value:r.replace(Hi,`\r
`)}}).get()}});var Ns=/%20/g,Gs=/#.*$/,js=/([?&])_=[^&]*/,qs=/^(.*?):[ \t]*([^\r\n]*)$/mg,xs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Us=/^(?:GET|HEAD)$/,Js=/^\/\//,Ri={},Je={},Ei="*/".concat("*"),$e=q.createElement("a");$e.href=fe.href;function Ni(t){return function(e,r){typeof e!="string"&&(r=e,e="*");var n,u=0,l=e.toLowerCase().match(Tt)||[];if(x(r))for(;n=l[u++];)n[0]==="+"?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function Gi(t,e,r,n){var u={},l=t===Je;function f(v){var g;return u[v]=!0,a.each(t[v]||[],function(w,X){var Y=X(e,r,n);if(typeof Y=="string"&&!l&&!u[Y])return e.dataTypes.unshift(Y),f(Y),!1;if(l)return!(g=Y)}),g}return f(e.dataTypes[0])||!u["*"]&&f("*")}function _e(t,e){var r,n,u=a.ajaxSettings.flatOptions||{};for(r in e)e[r]!==void 0&&((u[r]?t:n||(n={}))[r]=e[r]);return n&&a.extend(!0,t,n),t}function $s(t,e,r){for(var n,u,l,f,v=t.contents,g=t.dataTypes;g[0]==="*";)g.shift(),n===void 0&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n){for(u in v)if(v[u]&&v[u].test(n)){g.unshift(u);break}}if(g[0]in r)l=g[0];else{for(u in r){if(!g[0]||t.converters[u+" "+g[0]]){l=u;break}f||(f=u)}l=l||f}if(l)return l!==g[0]&&g.unshift(l),r[l]}function _s(t,e,r,n){var u,l,f,v,g,w={},X=t.dataTypes.slice();if(X[1])for(f in t.converters)w[f.toLowerCase()]=t.converters[f];for(l=X.shift();l;)if(t.responseFields[l]&&(r[t.responseFields[l]]=e),!g&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),g=l,l=X.shift(),l){if(l==="*")l=g;else if(g!=="*"&&g!==l){if(f=w[g+" "+l]||w["* "+l],!f){for(u in w)if(v=u.split(" "),v[1]===l&&(f=w[g+" "+v[0]]||w["* "+v[0]],f)){f===!0?f=w[u]:w[u]!==!0&&(l=v[0],X.unshift(v[1]));break}}if(f!==!0)if(f&&t.throws)e=f(e);else try{e=f(e)}catch(Y){return{state:"parsererror",error:f?Y:"No conversion from "+g+" to "+l}}}}return{state:"success",data:e}}a.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fe.href,type:"GET",isLocal:xs.test(fe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ei,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":a.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?_e(_e(t,a.ajaxSettings),e):_e(a.ajaxSettings,t)},ajaxPrefilter:Ni(Ri),ajaxTransport:Ni(Je),ajax:function(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};var r,n,u,l,f,v,g,w,X,Y,D=a.ajaxSetup({},e),W=D.context||D,U=D.context&&(W.nodeType||W.jquery)?a(W):a.event,Q=a.Deferred(),$=a.Callbacks("once memory"),ht=D.statusCode||{},at={},Mt={},Dt="canceled",z={readyState:0,getResponseHeader:function(Z){var nt;if(g){if(!l)for(l={};nt=qs.exec(u);)l[nt[1].toLowerCase()+" "]=(l[nt[1].toLowerCase()+" "]||[]).concat(nt[2]);nt=l[Z.toLowerCase()+" "]}return nt==null?null:nt.join(", ")},getAllResponseHeaders:function(){return g?u:null},setRequestHeader:function(Z,nt){return g==null&&(Z=Mt[Z.toLowerCase()]=Mt[Z.toLowerCase()]||Z,at[Z]=nt),this},overrideMimeType:function(Z){return g==null&&(D.mimeType=Z),this},statusCode:function(Z){var nt;if(Z)if(g)z.always(Z[z.status]);else for(nt in Z)ht[nt]=[ht[nt],Z[nt]];return this},abort:function(Z){var nt=Z||Dt;return r&&r.abort(nt),qt(0,nt),this}};if(Q.promise(z),D.url=((t||D.url||fe.href)+"").replace(Js,fe.protocol+"//"),D.type=e.method||e.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(Tt)||[""],D.crossDomain==null){v=q.createElement("a");try{v.href=D.url,v.href=v.href,D.crossDomain=$e.protocol+"//"+$e.host!=v.protocol+"//"+v.host}catch{D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=a.param(D.data,D.traditional)),Gi(Ri,D,e,z),g)return z;w=a.event&&D.global,w&&a.active++===0&&a.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!Us.test(D.type),n=D.url.replace(Gs,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(Ns,"+")):(Y=D.url.slice(n.length),D.data&&(D.processData||typeof D.data=="string")&&(n+=(xe.test(n)?"&":"?")+D.data,delete D.data),D.cache===!1&&(n=n.replace(js,"$1"),Y=(xe.test(n)?"&":"?")+"_="+Oi.guid+++Y),D.url=n+Y),D.ifModified&&(a.lastModified[n]&&z.setRequestHeader("If-Modified-Since",a.lastModified[n]),a.etag[n]&&z.setRequestHeader("If-None-Match",a.etag[n])),(D.data&&D.hasContent&&D.contentType!==!1||e.contentType)&&z.setRequestHeader("Content-Type",D.contentType),z.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+Ei+"; q=0.01":""):D.accepts["*"]);for(X in D.headers)z.setRequestHeader(X,D.headers[X]);if(D.beforeSend&&(D.beforeSend.call(W,z,D)===!1||g))return z.abort();if(Dt="abort",$.add(D.complete),z.done(D.success),z.fail(D.error),r=Gi(Je,D,e,z),!r)qt(-1,"No Transport");else{if(z.readyState=1,w&&U.trigger("ajaxSend",[z,D]),g)return z;D.async&&D.timeout>0&&(f=o.setTimeout(function(){z.abort("timeout")},D.timeout));try{g=!1,r.send(at,qt)}catch(Z){if(g)throw Z;qt(-1,Z)}}function qt(Z,nt,ce,Ve){var kt,pe,Xt,Ht,Rt,mt=nt;g||(g=!0,f&&o.clearTimeout(f),r=void 0,u=Ve||"",z.readyState=Z>0?4:0,kt=Z>=200&&Z<300||Z===304,ce&&(Ht=$s(D,z,ce)),!kt&&a.inArray("script",D.dataTypes)>-1&&a.inArray("json",D.dataTypes)<0&&(D.converters["text script"]=function(){}),Ht=_s(D,Ht,z,kt),kt?(D.ifModified&&(Rt=z.getResponseHeader("Last-Modified"),Rt&&(a.lastModified[n]=Rt),Rt=z.getResponseHeader("etag"),Rt&&(a.etag[n]=Rt)),Z===204||D.type==="HEAD"?mt="nocontent":Z===304?mt="notmodified":(mt=Ht.state,pe=Ht.data,Xt=Ht.error,kt=!Xt)):(Xt=mt,(Z||!mt)&&(mt="error",Z<0&&(Z=0))),z.status=Z,z.statusText=(nt||mt)+"",kt?Q.resolveWith(W,[pe,mt,z]):Q.rejectWith(W,[z,mt,Xt]),z.statusCode(ht),ht=void 0,w&&U.trigger(kt?"ajaxSuccess":"ajaxError",[z,D,kt?pe:Xt]),$.fireWith(W,[z,mt]),w&&(U.trigger("ajaxComplete",[z,D]),--a.active||a.event.trigger("ajaxStop")))}return z},getJSON:function(t,e,r){return a.get(t,e,r,"json")},getScript:function(t,e){return a.get(t,void 0,e,"script")}}),a.each(["get","post"],function(t,e){a[e]=function(r,n,u,l){return x(n)&&(l=l||u,u=n,n=void 0),a.ajax(a.extend({url:r,type:e,dataType:l,data:n,success:u},a.isPlainObject(r)&&r))}}),a.ajaxPrefilter(function(t){var e;for(e in t.headers)e.toLowerCase()==="content-type"&&(t.contentType=t.headers[e]||"")}),a._evalUrl=function(t,e,r){return a.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){a.globalEval(n,e,r)}})},a.fn.extend({wrapAll:function(t){var e;return this[0]&&(x(t)&&(t=t.call(this[0])),e=a(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var r=this;r.firstElementChild;)r=r.firstElementChild;return r}).append(this)),this},wrapInner:function(t){return x(t)?this.each(function(e){a(this).wrapInner(t.call(this,e))}):this.each(function(){var e=a(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=x(t);return this.each(function(r){a(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){a(this).replaceWith(this.childNodes)}),this}}),a.expr.pseudos.hidden=function(t){return!a.expr.pseudos.visible(t)},a.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},a.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch{}};var Ks={0:200,1223:204},de=a.ajaxSettings.xhr();G.cors=!!de&&"withCredentials"in de,G.ajax=de=!!de,a.ajaxTransport(function(t){var e,r;if(G.cors||de&&!t.crossDomain)return{send:function(n,u){var l,f=t.xhr();if(f.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(l in t.xhrFields)f[l]=t.xhrFields[l];t.mimeType&&f.overrideMimeType&&f.overrideMimeType(t.mimeType),!t.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(l in n)f.setRequestHeader(l,n[l]);e=function(v){return function(){e&&(e=r=f.onload=f.onerror=f.onabort=f.ontimeout=f.onreadystatechange=null,v==="abort"?f.abort():v==="error"?typeof f.status!="number"?u(0,"error"):u(f.status,f.statusText):u(Ks[f.status]||f.status,f.statusText,(f.responseType||"text")!=="text"||typeof f.responseText!="string"?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}},f.onload=e(),r=f.onerror=f.ontimeout=e("error"),f.onabort!==void 0?f.onabort=r:f.onreadystatechange=function(){f.readyState===4&&o.setTimeout(function(){e&&r()})},e=e("abort");try{f.send(t.hasContent&&t.data||null)}catch(v){if(e)throw v}},abort:function(){e&&e()}}}),a.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),a.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return a.globalEval(t),t}}}),a.ajaxPrefilter("script",function(t){t.cache===void 0&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),a.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,r;return{send:function(n,u){e=a("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(l){e.remove(),r=null,l&&u(l.type==="error"?404:200,l.type)}),q.head.appendChild(e[0])},abort:function(){r&&r()}}}});var ji=[],Ke=/(=)\?(?=&|$)|\?\?/;a.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ji.pop()||a.expando+"_"+Oi.guid++;return this[t]=!0,t}}),a.ajaxPrefilter("json jsonp",function(t,e,r){var n,u,l,f=t.jsonp!==!1&&(Ke.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ke.test(t.data)&&"data");if(f||t.dataTypes[0]==="jsonp")return n=t.jsonpCallback=x(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,f?t[f]=t[f].replace(Ke,"$1"+n):t.jsonp!==!1&&(t.url+=(xe.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return l||a.error(n+" was not called"),l[0]},t.dataTypes[0]="json",u=o[n],o[n]=function(){l=arguments},r.always(function(){u===void 0?a(o).removeProp(n):o[n]=u,t[n]&&(t.jsonpCallback=e.jsonpCallback,ji.push(n)),l&&x(u)&&u(l[0]),l=u=void 0}),"script"}),G.createHTMLDocument=function(){var t=q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}(),a.parseHTML=function(t,e,r){if(typeof t!="string")return[];typeof e=="boolean"&&(r=e,e=!1);var n,u,l;return e||(G.createHTMLDocument?(e=q.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=q.location.href,e.head.appendChild(n)):e=q),u=oi.exec(t),l=!r&&[],u?[e.createElement(u[1])]:(u=vi([t],e,l),l&&l.length&&a(l).remove(),a.merge([],u.childNodes))},a.fn.load=function(t,e,r){var n,u,l,f=this,v=t.indexOf(" ");return v>-1&&(n=Gt(t.slice(v)),t=t.slice(0,v)),x(e)?(r=e,e=void 0):e&&typeof e=="object"&&(u="POST"),f.length>0&&a.ajax({url:t,type:u||"GET",dataType:"html",data:e}).done(function(g){l=arguments,f.html(n?a("<div>").append(a.parseHTML(g)).find(n):g)}).always(r&&function(g,w){f.each(function(){r.apply(this,l||[g.responseText,w,g])})}),this},a.expr.pseudos.animated=function(t){return a.grep(a.timers,function(e){return t===e.elem}).length},a.offset={setOffset:function(t,e,r){var n,u,l,f,v,g,w,X=a.css(t,"position"),Y=a(t),D={};X==="static"&&(t.style.position="relative"),v=Y.offset(),l=a.css(t,"top"),g=a.css(t,"left"),w=(X==="absolute"||X==="fixed")&&(l+g).indexOf("auto")>-1,w?(n=Y.position(),f=n.top,u=n.left):(f=parseFloat(l)||0,u=parseFloat(g)||0),x(e)&&(e=e.call(t,r,a.extend({},v))),e.top!=null&&(D.top=e.top-v.top+f),e.left!=null&&(D.left=e.left-v.left+u),"using"in e?e.using.call(t,D):Y.css(D)}},a.fn.extend({offset:function(t){if(arguments.length)return t===void 0?this:this.each(function(u){a.offset.setOffset(this,t,u)});var e,r,n=this[0];if(n)return n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,r,n=this[0],u={top:0,left:0};if(a.css(n,"position")==="fixed")e=n.getBoundingClientRect();else{for(e=this.offset(),r=n.ownerDocument,t=n.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&a.css(t,"position")==="static";)t=t.parentNode;t&&t!==n&&t.nodeType===1&&(u=a(t).offset(),u.top+=a.css(t,"borderTopWidth",!0),u.left+=a.css(t,"borderLeftWidth",!0))}return{top:e.top-u.top-a.css(n,"marginTop",!0),left:e.left-u.left-a.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&a.css(t,"position")==="static";)t=t.offsetParent;return t||Nt})}}),a.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r=e==="pageYOffset";a.fn[t]=function(n){return Ft(this,function(u,l,f){var v;if(Bt(u)?v=u:u.nodeType===9&&(v=u.defaultView),f===void 0)return v?v[e]:u[l];v?v.scrollTo(r?v.pageXOffset:f,r?f:v.pageYOffset):u[l]=f},t,n,arguments.length)}}),a.each(["top","left"],function(t,e){a.cssHooks[e]=Mi(G.pixelPosition,function(r,n){if(n)return n=ue(r,e),Re.test(n)?a(r).position()[e]+"px":n})}),a.each({Height:"height",Width:"width"},function(t,e){a.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){a.fn[n]=function(u,l){var f=arguments.length&&(r||typeof u!="boolean"),v=r||(u===!0||l===!0?"margin":"border");return Ft(this,function(g,w,X){var Y;return Bt(g)?n.indexOf("outer")===0?g["inner"+t]:g.document.documentElement["client"+t]:g.nodeType===9?(Y=g.documentElement,Math.max(g.body["scroll"+t],Y["scroll"+t],g.body["offset"+t],Y["offset"+t],Y["client"+t])):X===void 0?a.css(g,w,v):a.style(g,w,X,v)},e,f?u:void 0,f)}})}),a.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){a.fn[e]=function(r){return this.on(e,r)}}),a.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return arguments.length===1?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),a.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){a.fn[e]=function(r,n){return arguments.length>0?this.on(e,null,r,n):this.trigger(e)}});var Vs=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;a.proxy=function(t,e){var r,n,u;if(typeof e=="string"&&(r=t[e],e=t,t=r),!!x(t))return n=d.call(arguments,2),u=function(){return t.apply(e||this,n.concat(d.call(arguments)))},u.guid=t.guid=t.guid||a.guid++,u},a.holdReady=function(t){t?a.readyWait++:a.ready(!0)},a.isArray=Array.isArray,a.parseJSON=JSON.parse,a.nodeName=st,a.isFunction=x,a.isWindow=Bt,a.camelCase=bt,a.type=It,a.now=Date.now,a.isNumeric=function(t){var e=a.type(t);return(e==="number"||e==="string")&&!isNaN(t-parseFloat(t))},a.trim=function(t){return t==null?"":(t+"").replace(Vs,"$1")};var zs=o.jQuery,Qs=o.$;return a.noConflict=function(t){return o.$===a&&(o.$=Qs),t&&o.jQuery===a&&(o.jQuery=zs),a},typeof i>"u"&&(o.jQuery=o.$=a),a})}(Ye)),Ye.exports}var fr=lr();const dr=or(fr);class cr{constructor(){c(this,"canvas",null);c(this,"timer",null);c(this,"stateContext",null)}Update(o){this.stateContext.Update(o),this.canvas.BeginDraw(),this.stateContext.Draw(this.canvas.BackBufferContext2D),this.canvas.EndDraw()}Initialize(o,i,s){this.canvas=new M.GameCanvas,this.timer=new M.GameTimer,M.KeyboardInput.Initialize(),this.canvas.Initialize("canvas",i,s),this.timer.UpdateObject=this,this.stateContext=new M.GameStateContext(o),this.timer.Start()}}class pr{constructor(){c(this,"Canvas",null);c(this,"Context2D",null);c(this,"BackBuffer",null);c(this,"BackBufferContext2D",null)}Initialize(o,i,s){const h=document.getElementById(o);if(!h)throw new Error(`Canvas element with id '${o}' not found`);const d=h.getContext("2d");if(!d)throw new Error("Failed to get 2D context from canvas");this.Canvas=h,this.Context2D=d,this.BackBuffer=document.createElement("canvas"),this.BackBuffer.width=i,this.BackBuffer.height=s;const m=this.BackBuffer.getContext("2d");if(!m)throw new Error("Failed to get 2D context from back buffer");this.BackBufferContext2D=m}BeginDraw(){if(!this.BackBufferContext2D||!this.Context2D||!this.BackBuffer||!this.Canvas)throw new Error("Canvas not initialized");this.BackBufferContext2D.clearRect(0,0,this.BackBuffer.width,this.BackBuffer.height),this.Context2D.clearRect(0,0,this.Canvas.width,this.Canvas.height)}EndDraw(){if(!this.Context2D||!this.BackBuffer||!this.Canvas)throw new Error("Canvas not initialized");this.Context2D.drawImage(this.BackBuffer,0,0,this.BackBuffer.width,this.BackBuffer.height,0,0,this.Canvas.width,this.Canvas.height)}}class gr{constructor(){c(this,"FramesPerSecond",1e3/30);c(this,"LastTime",0);c(this,"IntervalFunc",null);c(this,"UpdateObject",null)}Start(){this.LastTime=Date.now(),this.IntervalFunc=window.setInterval(()=>this.Tick(),this.FramesPerSecond)}Tick(){if(this.UpdateObject){const o=Date.now(),i=(o-this.LastTime)/1e3;this.LastTime=o,this.UpdateObject.Update(i)}}Stop(){this.IntervalFunc!==null&&(clearInterval(this.IntervalFunc),this.IntervalFunc=null)}}var $i=(I=>(I[I.A=65]="A",I[I.B=66]="B",I[I.C=67]="C",I[I.D=68]="D",I[I.E=69]="E",I[I.F=70]="F",I[I.G=71]="G",I[I.H=72]="H",I[I.I=73]="I",I[I.J=74]="J",I[I.K=75]="K",I[I.L=76]="L",I[I.M=77]="M",I[I.N=78]="N",I[I.O=79]="O",I[I.P=80]="P",I[I.Q=81]="Q",I[I.R=82]="R",I[I.S=83]="S",I[I.T=84]="T",I[I.U=85]="U",I[I.V=86]="V",I[I.W=87]="W",I[I.X=88]="X",I[I.Y=89]="Y",I[I.Z=90]="Z",I[I.Left=37]="Left",I[I.Up=38]="Up",I[I.Right=39]="Right",I[I.Down=40]="Down",I))($i||{});class _i{static Initialize(){document.onkeydown=o=>this.KeyDownEvent(o),document.onkeyup=o=>this.KeyUpEvent(o)}static IsKeyDown(o){return!!this.Pressed[o]}static KeyDownEvent(o){this.Pressed[o.keyCode]=!0,this.PreventScrolling(o)}static KeyUpEvent(o){this.Pressed[o.keyCode]=!1,this.PreventScrolling(o)}static PreventScrolling(o){[37,39,38,40].includes(o.keyCode)&&o.preventDefault()}}c(_i,"Pressed",{});class si{static Destroy(){return this.Images={},this.Sounds={},this}static AddImage(o,i){const s=new Image;return this.Images[o]=s,s.src=i,this}static AddImages(o){return o.forEach(({name:i,src:s})=>{const h=new Image;this.Images[i]=h,h.src=s}),this}static ClearImages(){return this.Images={},this}static RemoveImage(o){return delete this.Images[o],this}static AddSound(o,i,s=3){this.Sounds[o]=[],this.Sounds[o].index=0,s||(s=3);for(var h=0;h<s;h++)this.Sounds[o][h]=new Audio(i);return this}static ClearSounds(){return this.Sounds={},this}static RemoveSound(o){return delete this.Sounds[o],this}static PlaySound(o,i=!1){return this.Sounds[o].index>=this.Sounds[o].length&&(this.Sounds[o].index=0),i&&this.Sounds[o][this.Sounds[o].index].addEventListener("ended",this.LoopCallback,!1),this.Sounds[o][this.Sounds[o].index++].play(),this.Sounds[o].index}static PauseChannel(o,i){return this.Sounds[o][i].paused||this.Sounds[o][i].pause(),this}static PauseSound(o){for(var i=0;i<this.Sounds[o].length;i++)this.Sounds[o][i].paused||this.Sounds[o][i].pause();return this}static ResetChannel(o,i){return this.Sounds[o][i].currentTime=0,this.StopLoop(o,i),this}static ResetSound(o){for(var i=0;i<this.Sounds[o].length;i++)this.Sounds[o].currentTime=0,this.StopLoop(o,i);return this}static StopLoop(o,i){this.Sounds[o]&&this.Sounds[o][i]&&this.Sounds[o][i].removeEventListener("ended",this.LoopCallback,!1)}static LoopCallback(){this.currentTime=-1,this.play()}}c(si,"Images",{}),c(si,"Sounds",{});class se{constructor(){c(this,"ZOrder",0)}}class mr{constructor(){c(this,"Unsorted",!0);c(this,"Objects",[])}Add(o){this.Objects.push(o),this.Unsorted=!0}AddRange(o){this.Objects=this.Objects.concat(o),this.Unsorted=!0}Clear(){this.Objects=[]}Contains(o){return this.Objects.includes(o)}Remove(o){const i=this.Objects.indexOf(o);i!==-1&&this.Objects.splice(i,1)}RemoveAt(o){this.Objects.splice(o,1)}RemoveRange(o,i){this.Objects.splice(o,i)}RemoveList(o){for(const i of o){const s=this.Objects.indexOf(i);s!==-1&&this.Objects.splice(s,1)}}Update(o){for(const i of this.Objects)"Update"in i&&typeof i.Update=="function"&&i.Update(o)}Draw(o,i){this.Unsorted&&(this.Objects.sort((s,h)=>s.ZOrder-h.ZOrder),this.Unsorted=!1);for(const s of this.Objects)s.Draw(o,i)}}class Ki extends se{constructor(){super(...arguments);c(this,"X",0);c(this,"Y",0);c(this,"Image",null)}Draw(i,s){this.Image&&i.drawImage(this.Image,this.X-s.X,this.Y-s.Y)}}class Vi extends Ki{constructor(){super(...arguments);c(this,"FrameX",0);c(this,"FrameY",0);c(this,"FrameWidth",0);c(this,"FrameHeight",0)}Draw(i,s){this.Image&&i.drawImage(this.Image,this.FrameX,this.FrameY,this.FrameWidth,this.FrameHeight,this.X-s.X,this.Y-s.Y,this.FrameWidth,this.FrameHeight)}}class zi{constructor(o,i,s,h){c(this,"singleFrame");c(this,"StartRow");c(this,"StartColumn");c(this,"EndRow");c(this,"EndColumn");c(this,"SingleFrame");this.StartRow=o,this.StartColumn=i,this.EndRow=s,this.EndColumn=h,this.SingleFrame=!1,this.StartRow==this.EndRow&&this.StartColumn==this.EndColumn&&(this.SingleFrame=!0)}}class Sr extends Vi{constructor(){super(...arguments);c(this,"LastElapsed",0);c(this,"FramesPerSecond",1/20);c(this,"CurrentSequence",null);c(this,"Playing",!1);c(this,"Looping",!1);c(this,"Rows",0);c(this,"Columns",0);c(this,"Sequences",{})}Update(i){if(!this.CurrentSequence.SingleFrame&&this.Playing&&(this.LastElapsed-=i,!(this.LastElapsed>0))){this.LastElapsed=this.FramesPerSecond,this.FrameX+=this.FrameWidth,this.FrameX>this.Image.width-this.FrameWidth&&(this.FrameX=0,this.FrameY+=this.FrameHeight,this.FrameY>this.Image.height-this.FrameHeight&&(this.FrameY=0));var s=!1;(this.FrameX>this.CurrentSequence.EndColumn*this.FrameWidth&&this.FrameY==this.CurrentSequence.EndRow*this.FrameHeight||this.FrameX==0&&this.FrameY>this.CurrentSequence.EndRow*this.FrameHeight)&&(s=!0),s&&(this.Looping?(this.FrameX=this.CurrentSequence.StartColumn*this.FrameWidth,this.FrameY=this.CurrentSequence.StartRow*this.FrameHeight):this.Playing=!1)}}PlaySequence(i,s=!1){this.Playing=!0,this.Looping=s,this.CurrentSequence=this.Sequences["seq_"+i],this.FrameX=this.CurrentSequence.StartColumn*this.FrameWidth,this.FrameY=this.CurrentSequence.StartRow*this.FrameHeight}StopLooping(){this.Looping=!1}StopPlaying(){this.Playing=!1}SetFrameWidth(i){this.FrameWidth=i,this.Rows=this.Image.width/this.FrameWidth}SetFrameHeight(i){this.FrameHeight=i,this.Columns=this.Image.height/this.FrameHeight}SetColumnCount(i){this.FrameWidth=this.Image.width/i,this.Columns=i}SetRowCount(i){this.FrameHeight=this.Image.height/i,this.Rows=i}AddExistingSequence(i,s){this.Sequences["seq_"+i]=s}AddNewSequence(i,s,h,d,m){this.Sequences["seq_"+i]=new zi(s,h,d,m)}DeleteSequence(i){this.Sequences["seq_"+i]!=null&&delete this.Sequences["seq_"+i]}ClearSequences(){this.Sequences={}}}class vr extends se{constructor(i,s,h,d,m){super();c(this,"Image");c(this,"Letters");c(this,"LetterWidth");c(this,"LetterHeight");c(this,"Strings");this.Image=s,this.Letters=m,this.LetterWidth=h,this.LetterHeight=d,this.Strings=i}Draw(i,s){for(const h of this.Strings)for(let d=0;d<h.String.length;d++){const m=h.String.charCodeAt(d);i.drawImage(this.Image,this.Letters[m].X,this.Letters[m].Y,this.LetterWidth,this.LetterHeight,h.X+this.LetterWidth*(d+1),h.Y,this.LetterWidth,this.LetterHeight)}}}class Cr{constructor(){c(this,"X",0);c(this,"Y",0)}}class yr{constructor(o,i,s,h){c(this,"Base");c(this,"X");c(this,"Y");c(this,"Width");c(this,"Height");c(this,"CollisionEvent");this.Base=o,this.X=o.X,this.Y=o.Y,this.Width=i,this.Height=s,this.CollisionEvent=h||(()=>{})}Update(){this.X=this.Base.X,this.Y=this.Base.Y}CheckCollision(o){const i=this.X,s=o.X,h=this.X+this.Width,d=o.X+o.Width,m=this.Y,C=o.Y,T=this.Y+this.Height,F=o.Y+o.Height;T<C||m>F||h<s||i>d||(this.CollisionEvent(o),o.CollisionEvent(this))}}class We{Enter(){}Exit(){}Update(o){}Draw(o){}CheckForChange(o){}}class wr{constructor(o){c(this,"State",null);o&&(this.State=o,this.State.Enter())}ChangeState(o){this.State&&this.State.Exit(),this.State=o,this.State.Enter()}Update(o){if(!this.State)throw new Error("No current state to update");this.State.CheckForChange(this),this.State.Update(o)}Draw(o){if(!this.State)throw new Error("No current state to draw");this.State.Draw(o)}}const M={Application:cr,GameCanvas:pr,GameTimer:gr,KeyboardInput:_i,Keys:$i,Resources:si,Drawable:se,DrawableManager:mr,Sprite:Ki,FrameSprite:Vi,AnimatedSprite:Sr,AnimationSequence:zi,SpriteFont:vr,Camera:Cr,Collideable:yr,GameState:We,GameStateContext:wr};window.Enjine=M;class yt{static CreateBlackFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(0))}static CreateRedFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(8))}static CreateGreenFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(16))}static CreateBlueFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(24))}static CreateYellowFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(32))}static CreatePinkFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(40))}static CreateCyanFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(48))}static CreateWhiteFont(){return new M.SpriteFont([],M.Resources.Images.font,8,8,yt.GetCharArray(56))}static GetCharArray(o){const i=[];for(let s=32;s<127;s++)i[s]={X:(s-32)*8,Y:o};return i}static GetBackgroundSheet(){const o=[],i=M.Resources.Images.background.width/32,s=M.Resources.Images.background.height/32;for(let h=0;h<i;h++){o[h]=[];for(let d=0;d<s;d++)o[h][d]={X:h*32,Y:d*32,Width:32,Height:32}}return o}static GetLevelSheet(){const o=[],i=M.Resources.Images.map.width/16,s=M.Resources.Images.map.height/16;for(let h=0;h<i;h++){o[h]=[];for(let d=0;d<s;d++)o[h][d]={X:h*16,Y:d*16,Width:16,Height:16}}return o}}const Ut=class Ut{constructor(o,i){c(this,"Width");c(this,"Height");c(this,"ExitX",10);c(this,"ExitY",10);c(this,"Map",[]);c(this,"Data",[]);c(this,"SpriteTemplates",[]);this.Width=o,this.Height=i;for(let s=0;s<this.Width;s++){this.Map[s]=[],this.Data[s]=[],this.SpriteTemplates[s]=[];for(let h=0;h<this.Height;h++)this.Map[s][h]=0,this.Data[s][h]=0,this.SpriteTemplates[s][h]=null}}Update(){for(let o=0;o<this.Width;o++)for(let i=0;i<this.Height;i++)this.Data[o][i]>0&&this.Data[o][i]--}GetBlockCapped(o,i){return o<0&&(o=0),i<0&&(i=0),o>=this.Width&&(o=this.Width-1),i>=this.Height&&(i=this.Height-1),this.Map[o][i]}GetBlock(o,i){return o<0&&(o=0),i<0&&(i=0),o>=this.Width&&(o=this.Width-1),i>=this.Height&&(i=this.Height-1),this.Map[o][i]}SetBlock(o,i,s){o<0||i<0||o>=this.Width||i>=this.Height||(this.Map[o][i]=s)}SetBlockData(o,i,s){o<0||i<0||o>=this.Width||i>=this.Height||(this.Data[o][i]=s)}IsBlocking(o,i,s,h){const d=this.GetBlock(o,i);return(Ut.Tile.Behaviors[d&255]&Ut.Tile.BlockAll)>0}GetSpriteTemplate(o,i){return o<0||i<0||o>=this.Width||i>=this.Height?null:this.SpriteTemplates[o][i]}SetSpriteTemplate(o,i,s){o<0||i<0||o>=this.Width||i>=this.Height||(this.SpriteTemplates[o][i]=s)}};c(Ut,"Tile",{BlockUpper:1,BlockAll:2,BlockLower:4,Special:8,Bumpable:16,Breakable:32,PickUpable:64,Animated:128,Behaviors:[],LoadBehaviors(){const o=new Array(256).fill(0);o[1]=20,o[2]=28,o[4]=130,o[5]=130,o[6]=130,o[7]=130,o[8]=2,o[9]=2,o[10]=2,o[11]=2,o[12]=2,o[14]=138,o[16]=162,o[17]=146,o[18]=154,o[19]=162,o[20]=146,o[21]=146,o[22]=154,o[23]=146,o[24]=2,o[26]=2,o[27]=2,o[28]=2,o[30]=2,o[32]=192,o[33]=192,o[34]=192,o[35]=192,o[40]=2,o[41]=2,o[46]=2,o[56]=2,o[57]=2,o[128]=2,o[129]=2,o[130]=2,o[132]=1,o[133]=1,o[134]=1,o[136]=2,o[137]=2,o[138]=2,o[140]=2,o[141]=2,o[142]=2,o[144]=2,o[146]=2,o[152]=2,o[153]=2,o[154]=2,o[156]=2,o[157]=2,o[158]=2,o[160]=2,o[161]=2,o[162]=2,o[168]=2,o[169]=2,o[170]=2,o[172]=2,o[173]=2,o[174]=2,o[176]=2,o[177]=2,o[178]=2,o[180]=1,o[181]=1,o[182]=1,o[224]=1,o[225]=1,o[226]=1,this.Behaviors=o}}),c(Ut,"LevelType",{Overground:0,Underground:1,Castle:2}),c(Ut,"Odds",{Straight:0,HillStraight:1,Tubes:2,Jump:3,Cannons:4});let Yt=Ut;class Tr{constructor(o,i,s,h){c(this,"Width");c(this,"Height");c(this,"Distant");c(this,"Type");this.Width=o,this.Height=i,this.Distant=s,this.Type=h}SetValues(o,i,s,h){this.Width=o,this.Height=i,this.Distant=s,this.Type=h}CreateLevel(){const o=new Yt(this.Width,this.Height);switch(this.Type){case Yt.LevelType.Overground:this.GenerateOverground(o);break;case Yt.LevelType.Underground:this.GenerateUnderground(o);break;case Yt.LevelType.Castle:this.GenerateCastle(o);break}return o}GenerateOverground(o){const i=this.Distant?4:6,s=this.Distant?2:1;let h=Math.floor(Math.random()*i)+s,d=Math.floor(Math.random()*i)+s,m=0,C=0,T=2;for(let F=0;F<this.Width;F++){for(h=d;h===d;)d=Math.floor(Math.random()*i)+s;for(let P=0;P<this.Height;P++)m=h<d?h:d,C=h<d?d:h,T=2,P<m?this.Distant?(T=2,P<2&&(T=P),o.SetBlock(F,P,4+T*8)):o.SetBlock(F,P,5):P===m?(T=m===d?0:1,T+=this.Distant?2:0,o.SetBlock(F,P,T)):P===C?(T=m===d?0:1,T+=this.Distant?2:0,o.SetBlock(F,P,T+16)):(T=P>C?1:0,m===h&&(T=1-T),T+=this.Distant?2:0,o.SetBlock(F,P,T+8))}}GenerateUnderground(o){if(this.Distant){let i=0;for(let s=0;s<this.Width;s++){Math.random()<.75&&(i=1-i);for(let h=0;h<this.Height;h++){let d=i,m=h-2;(m<0||m>4)&&(m=2,d=0),o.SetBlock(s,h,4+d+(3+m)*8)}}}else for(let i=0;i<this.Width;i++)for(let s=0;s<this.Height;s++){let h=i%2,d=s-1;(d<0||d>7)&&(d=7,h=0),h===0&&d>1&&d<5&&(h=-1,d=0),o.SetBlock(i,s,6+h+d*8)}}GenerateCastle(o){if(this.Distant)for(let i=0;i<this.Width;i++)for(let s=0;s<this.Height;s++){let h=i%2,d=s-1;d>2&&d<5?d=2:d>=5&&(d-=2),d<0?(h=0,d=5):d>4?(h=1,d=5):h<1&&d===3?(h=0,d=3):h<1&&d>0&&d<3&&(h=0,d=2),o.SetBlock(i,s,1+h+(d+4)*8)}else for(let i=0;i<this.Width;i++)for(let s=0;s<this.Height;s++){let h=i%3,d=s-1;d>2&&d<5?d=2:d>=5&&(d-=2),d<0?(h=1,d=5):d>4?(h=2,d=5):h<2&&d===4?(h=2,d=4):h<2&&d>0&&d<4&&(h=4,d=-3),o.SetBlock(i,s,1+h+(d+3)*8)}}}class br extends se{constructor(i,s,h,d){super();c(this,"Level");c(this,"Width");c(this,"Distance");c(this,"TilesY");c(this,"Background");this.Level=i,this.Width=s,this.Distance=d,this.TilesY=(h/32|0)+1,this.Background=yt.GetBackgroundSheet()}Draw(i,s){const h=s.X/this.Distance,d=h/32|0,m=(h+this.Width)/32|0;for(let C=d;C<=m;C++)for(let T=0;T<this.TilesY;T++){const F=this.Level.GetBlock(C,T)&255,P=this.Background[F%8][F/8|0];i.drawImage(M.Resources.Images.background,P.X,P.Y,P.Width,P.Height,(C<<5)-h|0,T<<5|0,P.Width,P.Height)}}}class Mr{constructor(o){c(this,"P",[]);this.Shuffle(o)}Shuffle(o){const i=[];for(let s=0;s<256;s++)i[s]=s;for(let s=0;s<256;s++){const h=(Math.random()*255|0)+s,d=i[s];i[s]=i[h],i[h]=d,this.P[s+256]=this.P[s]=i[s]}}PerlinNoise(o,i){let s=0;for(let h=0;h<8;h++){const d=64/(1<<h);s+=this.Noise(o/d,i/d,128)/(1<<h)}return s}Noise(o,i,s){const h=(o|0)&255,d=(i|0)&255,m=(s|0)&255;o-=o|0,i-=i|0,s-=s|0;const C=this.Fade(o),T=this.Fade(i),F=this.Fade(s),P=this.P[h]+d,N=this.P[P]+m,_=this.P[P+1]+m,rt=this.P[h+1]+d,G=this.P[rt]+m,x=this.P[rt+1]+m;return this.Lerp(F,this.Lerp(T,this.Lerp(C,this.Grad(this.P[N],o,i,s),this.Grad(this.P[G],o-1,i,s)),this.Lerp(C,this.Grad(this.P[_],o,i-1,s),this.Grad(this.P[x],o-1,i-1,s))),this.Lerp(T,this.Lerp(C,this.Grad(this.P[N+1],o,i,s-1),this.Grad(this.P[G+1],o-1,i,s-1)),this.Lerp(C,this.Grad(this.P[_+1],o,i-1,s-1),this.Grad(this.P[x+1],o-1,i-1,s-1))))}Fade(o){return o*o*o*(o*(o*6-15)+10)}Lerp(o,i,s){return i+o*(s-i)}Grad(o,i,s,h){const d=o&15,m=d<8?i:s,C=d<4?s:d===12||d===14?i:h;return(d&1?-m:m)+(d&2?-C:C)}}class wt extends se{constructor(i){super();c(this,"XOld",0);c(this,"YOld",0);c(this,"X",0);c(this,"Y",0);c(this,"Xa",0);c(this,"Ya",0);c(this,"XPic",0);c(this,"YPic",0);c(this,"XPicO",0);c(this,"YPicO",0);c(this,"PicWidth",32);c(this,"PicHeight",32);c(this,"XFlip",!1);c(this,"YFlip",!1);c(this,"Visible",!0);c(this,"Image");c(this,"Delta",0);c(this,"SpriteTemplate",null);c(this,"Layer",1);this.Image=i}Draw(i,s){if(!this.Visible)return;const h=(this.XOld+(this.X-this.XOld)*this.Delta|0)-this.XPicO,d=(this.YOld+(this.Y-this.YOld)*this.Delta|0)-this.YPicO;i.save(),i.scale(this.XFlip?-1:1,this.YFlip?-1:1),i.translate(this.XFlip?-320:0,this.YFlip?-240:0),i.drawImage(this.Image,this.XPic*this.PicWidth,this.YPic*this.PicHeight,this.PicWidth,this.PicHeight,this.XFlip?320-h-this.PicWidth:h,this.YFlip?240-d-this.PicHeight:d,this.PicWidth,this.PicHeight),i.restore()}Update(i){this.XOld=this.X,this.YOld=this.Y,this.Move(),this.Delta=i}UpdateNoMove(i){this.XOld=this.X,this.YOld=this.Y,this.Delta=0}Move(){this.X+=this.Xa,this.Y+=this.Ya}GetX(i){return(this.XOld+(this.X-this.XOld)*i|0)-this.XPicO}GetY(i){return(this.YOld+(this.Y-this.YOld)*i|0)-this.YPicO}CollideCheck(){}BumpCheck(i,s){}Release(i){}ShellCollideCheck(i){return!1}FireballCollideCheck(i){return!1}}class Dr extends wt{constructor(){super(null);c(this,"Large",!1);c(this,"Fire",!1);c(this,"Coins",0);c(this,"Lives",3);c(this,"LevelString","none");c(this,"GroundInertia",.89);c(this,"AirInertia",.89);c(this,"RunTime",0);c(this,"WasOnGround",!1);c(this,"OnGround",!1);c(this,"MayJump",!1);c(this,"Ducking",!1);c(this,"Sliding",!1);c(this,"JumpTime",0);c(this,"XJumpSpeed",0);c(this,"YJumpSpeed",0);c(this,"CanShoot",!1);c(this,"Width",4);c(this,"Height",24);c(this,"World",null);c(this,"Facing",0);c(this,"PowerUpTime",0);c(this,"XDeathPos",0);c(this,"YDeathPos",0);c(this,"DeathTime",0);c(this,"WinTime",0);c(this,"InvulnerableTime",0);c(this,"Carried",null);c(this,"LastLarge",!1);c(this,"LastFire",!1);c(this,"NewLarge",!1);c(this,"NewFire",!1)}Initialize(i){this.World=i,this.X=32,this.Y=0,this.PowerUpTime=0,this.RunTime=0,this.WasOnGround=!1,this.OnGround=!1,this.MayJump=!1,this.Ducking=!1,this.Sliding=!1,this.JumpTime=0,this.XJumpSpeed=0,this.YJumpSpeed=0,this.CanShoot=!1,this.Width=4,this.Height=24,this.World=i,this.Facing=0,this.PowerUpTime=0,this.XDeathPos=0,this.YDeathPos=0,this.DeathTime=0,this.WinTime=0,this.InvulnerableTime=0,this.Carried=null,this.SetLarge(this.Large,this.Fire)}SetLarge(i,s){s&&(i=!0),i||(s=!1),this.LastLarge=this.Large,this.LastFire=this.Fire,this.Large=i,this.Fire=s,this.NewLarge=this.Large,this.NewFire=this.Fire,this.Blink(!0)}Blink(i){this.Large=i?this.NewLarge:this.LastLarge,this.Fire=i?this.NewFire:this.LastFire,this.Large?(this.Fire?this.Image=M.Resources.Images.fireMario:this.Image=M.Resources.Images.mario,this.XPicO=16,this.YPicO=31,this.PicWidth=this.PicHeight=32):(this.Image=M.Resources.Images.smallMario,this.XPicO=8,this.YPicO=15,this.PicWidth=this.PicHeight=16)}Move(){if(this.WinTime>0){this.WinTime++,this.Xa=0,this.Ya=0;return}if(this.DeathTime>0){this.DeathTime++,this.DeathTime<11?(this.Xa=0,this.Ya=0):this.DeathTime===11?this.Ya=-15:this.Ya+=2,this.X+=this.Xa,this.Y+=this.Ya;return}if(this.PowerUpTime!==0){this.PowerUpTime>0?(this.PowerUpTime--,this.Blink(((this.PowerUpTime/3|0)&1)===0)):(this.PowerUpTime++,this.Blink(((-this.PowerUpTime/3|0)&1)===0)),this.PowerUpTime===0&&(this.World.Paused=!1),this.CalcPic();return}this.InvulnerableTime>0&&this.InvulnerableTime--,this.Visible=((this.InvulerableTime/2|0)&1)===0,this.WasOnGround=this.OnGround;var i=M.KeyboardInput.IsKeyDown(M.Keys.A)?1.2:.6;this.OnGround&&(M.KeyboardInput.IsKeyDown(M.Keys.Down)&&this.Large?this.Ducking=!0:this.Ducking=!1),this.Xa>2&&(this.Facing=1),this.Xa<-2&&(this.Facing=-1),M.KeyboardInput.IsKeyDown(M.Keys.S)||this.JumpTime<0&&!this.OnGround&&!this.Sliding?this.JumpTime<0?(this.Xa=this.XJumpSpeed,this.Ya=-this.JumpTime*this.YJumpSpeed,this.JumpTime++):this.OnGround&&this.MayJump?(M.Resources.PlaySound("jump"),this.XJumpSpeed=0,this.YJumpSpeed=-1.9,this.JumpTime=7,this.Ya=this.JumpTime*this.YJumpSpeed,this.OnGround=!1,this.Sliding=!1):this.Sliding&&this.MayJump?(M.Resources.PlaySound("jump"),this.XJumpSpeed=-this.Facing*6,this.YJumpSpeed=-2,this.JumpTime=-6,this.Xa=this.XJumpSpeed,this.Ya=-this.JumpTime*this.YJumpSpeed,this.OnGround=!1,this.Sliding=!1,this.Facing=-this.Facing):this.JumpTime>0&&(this.Xa+=this.XJumpSpeed,this.Ya=this.JumpTime*this.YJumpSpeed,this.JumpTime--):this.JumpTime=0,M.KeyboardInput.IsKeyDown(M.Keys.Left)&&!this.Ducking&&(this.Facing===1&&(this.Sliding=!1),this.Xa-=i,this.JumpTime>=0&&(this.Facing=-1)),M.KeyboardInput.IsKeyDown(M.Keys.Right)&&!this.Ducking&&(this.Facing===-1&&(this.Sliding=!1),this.Xa+=i,this.JumpTime>=0&&(this.Facing=1)),(!M.KeyboardInput.IsKeyDown(M.Keys.Left)&&!M.KeyboardInput.IsKeyDown(M.Keys.Right)||this.Ducking||this.Ya<0||this.OnGround)&&(this.Sliding=!1),M.KeyboardInput.IsKeyDown(M.Keys.A)&&this.CanShoot&&this.Fire&&this.World.FireballsOnScreen<2&&(M.Resources.PlaySound("fireball"),this.World.AddSprite(new S.Fireball(this.World,this.X+this.Facing*6,this.Y-20,this.Facing))),this.CanShoot=!M.KeyboardInput.IsKeyDown(M.Keys.A),this.MayJump=(this.OnGround||this.Sliding)&&!M.KeyboardInput.IsKeyDown(M.Keys.S),this.XFlip=this.Facing===-1,this.RunTime+=Math.abs(this.Xa)+5,Math.abs(this.Xa)<.5&&(this.RunTime=0,this.Xa=0),this.CalcPic(),this.Sliding&&(this.World.AddSprite(new S.Sparkle(this.World,(this.X+Math.random()*4-2|0)+this.Facing*8,(this.Y+Math.random()*4|0)-24,Math.random()*2-1,Math.random(),0,1,5)),this.Ya*=.5),this.OnGround=!1,this.SubMove(this.Xa,0),this.SubMove(0,this.Ya),this.Y>this.World.Level.Height*16+16&&this.Die(),this.X<0&&(this.X=0,this.Xa=0),this.X>this.World.Level.ExitX*16&&this.Win(),this.X>this.World.Level.Width*16&&(this.X=this.World.Level.Width*16,this.Xa=0),this.Ya*=.85,this.OnGround?this.Xa*=this.GroundInertia:this.Xa*=this.AirInertia,this.OnGround||(this.Ya+=3),this.Carried!==null&&(this.Carried.X*=this.X+this.Facing*8,this.Carried.Y*=this.Y-2,M.KeyboardInput.IsKeyDown(M.Keys.A)||(this.Carried.Release(this),this.Carried=null))}CalcPic(){var i=0,s=0;if(this.Large?(i=(this.RunTime/20|0)%4,i===3&&(i=1),this.Carried===null&&Math.abs(this.Xa)>10&&(i+=3),this.Carried!==null&&(i+=10),this.OnGround||(this.Carried!==null?i=12:Math.abs(this.Xa)>10?i=7:i=6)):(i=(this.RunTime/20|0)%2,this.Carried===null&&Math.abs(this.Xa)>10&&(i+=2),this.Carried!==null&&(i+=8),this.OnGround||(this.Carried!==null?i=9:Math.abs(this.Xa)>10?i=5:i=4)),this.OnGround&&(this.Facing===-1&&this.Xa>0||this.Facing===1&&this.Xa<0)&&((this.Xa>1||this.Xa<-1)&&(i=this.Large?9:7),this.Xa>3||this.Xa<-3))for(s=0;s<3;s++)this.World.AddSprite(new S.Sparkle(this.World,this.X+Math.random()*8-4|0,this.Y+Math.random()*4|0,Math.random()*2-1,Math.random()*-1,0,1,5));this.Large?(this.Ducking&&(i=14),this.Height=this.Ducking?12:24):this.Height=12,this.XPic=i}SubMove(i,s){for(var h=!1;i>8;){if(!this.SubMove(8,0))return!1;i-=8}for(;i<-8;){if(!this.SubMove(-8,0))return!1;i+=8}for(;s>8;){if(!this.SubMove(0,8))return!1;s-=8}for(;s<-8;){if(!this.SubMove(0,-8))return!1;s+=8}return s>0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i+this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i-this.Width,this.Y+s+1,i,s)||this.IsBlocking(this.X+i+this.Width,this.Y+s+1,i,s))&&(h=!0),s<0&&(this.IsBlocking(this.X+i,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s))&&(h=!0),i>0&&(this.Sliding=!0,this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s)?h=!0:this.Sliding=!1,this.IsBlocking(this.X+i+this.Width,this.Y+s-(this.Height/2|0),i,s)?h=!0:this.Sliding=!1,this.IsBlocking(this.X+i+this.Width,this.Y+s,i,s)?h=!0:this.Sliding=!1),i<0&&(this.Sliding=!0,this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)?h=!0:this.Sliding=!1,this.IsBlocking(this.X+i-this.Width,this.Y+s-(this.Height/2|0),i,s)?h=!0:this.Sliding=!1,this.IsBlocking(this.X+i-this.Width,this.Y+s,i,s)?h=!0:this.Sliding=!1),h?(i<0&&(this.X=((this.X-this.Width)/16|0)*16+this.Width,this.Xa=0),i>0&&(this.X=((this.X+this.Width)/16+1|0)*16-this.Width-1,this.Xa=0),s<0&&(this.Y=((this.Y-this.Height)/16|0)*16+this.Height,this.JumpTime=0,this.Ya=0),s>0&&(this.Y=((this.Y-1)/16+1|0)*16-1,this.OnGround=!0),!1):(this.X+=i,this.Y+=s,!0)}IsBlocking(i,s,h,d){var m=!1,C=0,T=0,F=0;if(i=i/16|0,s=s/16|0,i===(this.X/16|0)&&s===(this.Y/16|0))return!1;if(C=this.World.Level.GetBlock(i,s),(S.Tile.Behaviors[C&255]&S.Tile.PickUpable)>0)for(this.GetCoin(),M.Resources.PlaySound("coin"),this.World.Level.SetBlock(i,s,0),T=0;T<2;T++)for(F=0;F<2;F++)this.World.AddSprite(new S.Sparkle(this.World,i*16+T*8+(Math.random()*8|0),s*16+F*8+(Math.random()*8|0),0,0,0,2,5));return m=this.World.Level.IsBlocking(i,s,h,d),m&&d<0&&this.World.Bump(i,s,this.Large),m}Stomp(i){var s=0;this.DeathTime>0||this.World.Paused||(s=i.Y-i.Height/2,this.SubMove(0,s-this.Y),i instanceof S.Enemy||i instanceof S.BulletBill?(M.Resources.PlaySound("kick"),this.XJumpSpeed=0,this.YJumpSpeed=-1.9,this.JumpTime=8,this.Ya=this.JumpTime*this.YJumpSpeed,this.OnGround=!1,this.Sliding=!1,this.InvulnerableTime=1):i instanceof S.Shell&&(M.KeyboardInput.IsKeyDown(M.Keys.A)&&i.Facing===0?(this.Carried=i,i.Carried=!0):(M.Resources.PlaySound("kick"),this.XJumpSpeed=0,this.YJumpSpeed=-1.9,this.JumpTime=8,this.Ya=this.JumpTime*this.YJumpSpeed,this.OnGround=!1,this.Sliding=!1,this.InvulnerableTime=1)))}GetHurt(){this.DeathTime>0||this.World.Paused||this.InvulnerableTime>0||(this.Large?(this.World.Paused=!0,this.PowerUpTime=-18,M.Resources.PlaySound("powerdown"),this.Fire?this.SetLarge(!0,!1):this.SetLarge(!1,!1),this.InvulnerableTime=32):this.Die())}Win(){this.XDeathPos=this.X|0,this.YDeathPos=this.Y|0,this.World.Paused=!0,this.WinTime=1,M.Resources.PlaySound("exit")}Die(){this.XDeathPos=this.X|0,this.YDeathPos=this.Y|0,this.World.Paused=!0,this.DeathTime=1,M.Resources.PlaySound("death"),this.SetLarge(!1,!1)}GetFlower(){this.DeathTime>0&&this.World.Paused||(this.Fire?(this.GetCoin(),M.Resources.PlaySound("coin")):(this.World.Paused=!0,this.PowerUpTime=18,M.Resources.PlaySound("powerup"),this.SetLarge(!0,!0)))}GetMushroom(){this.DeathTime>0&&this.World.Paused||(this.Large?(this.GetCoin(),M.Resources.PlaySound("coin")):(this.World.Paused=!0,this.PowerUpTime=18,M.Resources.PlaySound("powerup"),this.SetLarge(!0,!1)))}Kick(i){this.DeathTime>0&&this.World.Paused||(M.KeyboardInput.IsKeyDown(M.Keys.A)?(this.Carried=i,i.Carried=!0):(M.Resources.PlaySound("kick"),this.InvulnerableTime=1))}Get1Up(){M.Resources.PlaySound("1up"),this.Lives++,this.Lives===99&&(this.Lives=99)}GetCoin(){this.Coins++,this.Coins===100&&(this.Coins=0,this.Get1Up())}}class kr extends se{constructor(i,s,h){super();c(this,"Width");c(this,"Height");c(this,"Level");c(this,"TilesY");c(this,"Delta");c(this,"Tick");c(this,"Bounce");c(this,"AnimTime");c(this,"Background");this.Width=s,this.Height=h,this.Level=i,this.TilesY=(h/16|0)+1,this.Delta=0,this.Tick=0,this.Bounce=0,this.AnimTime=0,this.Background=S.SpriteCuts.GetLevelSheet()}Update(i){this.AnimTime+=i,this.Tick=this.AnimTime|0,this.Bounce+=i*30,this.Delta=i}Draw(i,s){this.DrawStatic(i,s),this.DrawDynamic(i,s)}DrawStatic(i,s){let h=0,d=0,m=0,C=null;const T=s.X/16|0,F=(s.X+this.Width)/16|0;for(h=T;h<F+1;h++)for(d=0;d<this.TilesY;d++)m=this.Level.GetBlock(h,d)&255,S.Tile.Behaviors[m]&S.Tile.Animated||(C=this.Background[m%16][m/16|0],i.drawImage(M.Resources.Images.map,C.X,C.Y,C.Width,C.Height,(h<<4)-s.X|0,d<<4|0,C.Width,C.Height))}DrawDynamic(i,s){let h=0,d=0,m=0,C=0,T=0,F=null;for(h=s.X/16|0;h<=(s.X+this.Width)/16|0;h++)for(d=s.Y/16|0;d<=(s.Y+this.Height)/16|0;d++)m=this.Level.GetBlock(h,d),(S.Tile.Behaviors[m&255]&S.Tile.Animated)>0&&(C=(this.Bounce/3|0)%4,!(m%16/4|0)&&(m/16|0)===1&&(C=(this.Bounce/2+(h+d)/8|0)%20,C>3&&(C=0)),(m%16/4|0)===3&&!(m/16|0)&&(C=2),T=0,h>=0&&d>=0&&h<this.Level.Width&&d<this.Level.Height&&(T=this.Level.Data[h][d]),T>0&&(T=Math.sin((T-this.Delta)/4*Math.PI)*8|0),F=this.Background[(m%16/4|0)*4+C][m/16|0],i.drawImage(M.Resources.Images.map,F.X,F.Y,F.Width,F.Height,(h<<4)-s.X,(d<<4)-s.Y-T,F.Width,F.Height))}DrawExit0(i,s,h){let d=0,m=0,C=null;for(d=this.Level.ExitY-8;d<this.Level.ExitY;d++)C=this.Background[12][d===this.Level.ExitY-8?4:5],i.drawImage(M.Resources.Images.map,C.X,C.Y,C.Width,C.Height,(this.Level.ExitX<<4)-s.X-16,(d<<4)-s.Y,C.Width,C.Height);h&&(m=this.Level.ExitY*16-3*16-Math.sin(this.AnimTime)*3*16-8,C=this.Background[12][3],i.drawImage(M.Resources.Images.map,C.X,C.Y,C.Width,C.Height,(this.Level.ExitX<<4)-s.X-16,m-s.Y,C.Width,C.Height),C=this.Background[13][3],i.drawImage(M.Resources.Images.map,C.X,C.Y,C.Width,C.Height,(this.Level.ExitX<<4)-s.X,m-s.Y,C.Width,C.Height))}DrawExit1(i,s){let h=0,d=null;for(h=this.Level.ExitY-8;h<this.Level.ExitY;h++)d=this.Background[13][h===this.Level.ExitY-8?4:5],i.drawImage(M.Resources.Images.map,d.X,d.Y,d.Width,d.Height,(this.Level.ExitX<<4)-s.X+16,(h<<4)-s.Y,d.Width,d.Height)}}class Xr{constructor(o,i){c(this,"Width");c(this,"Height");c(this,"Odds");c(this,"TotalOdds");c(this,"Difficulty");c(this,"Type");this.Width=o,this.Height=i,this.Odds=[],this.TotalOdds=0,this.Difficulty=0,this.Type=0}CreateLevel(o,i){let s=0,h=0,d=0,m=0,C=0,T=0,F=0,P=null;for(this.Type=o,this.Difficulty=i,this.Odds[S.Odds.Straight]=20,this.Odds[S.Odds.HillStraight]=10,this.Odds[S.Odds.Tubes]=2+i,this.Odds[S.Odds.Jump]=2*i,this.Odds[S.Odds.Cannons]=-10+5*i,this.Type!==S.LevelType.Overground&&(this.Odds[S.Odds.HillStraight]=0),s=0;s<this.Odds.length;s++)this.Odds[s]<0&&(this.Odds[s]=0),this.TotalOdds+=this.Odds[s],this.Odds[s]=this.TotalOdds-this.Odds[s];for(P=new S.Level(this.Width,this.Height),h+=this.BuildStraight(P,0,P.Width,!0);h<P.Width-64;)h+=this.BuildZone(P,h,P.Width-h);for(d=this.Height-1-Math.random()*4|0,P.ExitX=h+8,P.ExitY=d,m=h;m<P.Width;m++)for(C=0;C<this.Height;C++)C>=d&&P.SetBlock(m,C,1+9*16);if(o===S.LevelType.Castle||o===S.LevelType.Underground)for(m=0;m<P.Width;m++)for(F--<=0&&m>4&&(T=Math.random()*4|0,F=(Math.random()*4|0)+4),C=0;C<P.Height;C++)(m>4&&C<=T||m<1)&&P.SetBlock(m,C,1+9*16);return this.FixWalls(P),P}BuildZone(o,i,s){let h=Math.random()*this.TotalOdds|0,d=0,m=0;for(m=0;m<this.Odds.length;m++)this.Odds[m]<=h&&(d=m);switch(d){case S.Odds.Straight:return this.BuildStraight(o,i,s,!1);case S.Odds.HillStraight:return this.BuildHillStraight(o,i,s);case S.Odds.Tubes:return this.BuildTubes(o,i,s);case S.Odds.Jump:return this.BuildJump(o,i,s);case S.Odds.Cannons:return this.BuildCannons(o,i,s)}return 0}BuildJump(o,i,s){let h=(Math.random()*4|0)+2,d=(Math.random()*2|0)+2,m=h*2+d,C=0,T=0,F=(Math.random()*3|0)===0,P=this.Height-1-(Math.random()*4|0);for(C=i;C<i+m;C++)if(C<i+h||C>i+m-h-1)for(T=0;T<this.Height;T++)T>=P?o.SetBlock(C,T,1+9*16):F&&(C<i+h?T>=P-(C-i)+1&&o.SetBlock(C,T,9):T>=P-(i+m-C)+2&&o.SetBlock(C,T,9));return m}BuildCannons(o,i,s){let h=(Math.random()*10|0)+2,d=this.Height-1-Math.random()*4|0,m=i+1+Math.random()*4|0,C=0,T=0,F=0;for(h>s&&(h=s),C=i;C<i+h;C++)for(C>m&&(m+=2*(Math.random()*4)|0),m===i+h-1&&(m+=10),F=d-(Math.random()*4|0)-1,T=0;T<this.Height;T++)T>=d?o.SetBlock(C,T,1+9*16):C===m&&T>=F&&(T===F?o.SetBlock(C,T,14):T===F+1?o.SetBlock(C,T,30):o.SetBlock(C,T,14+2*16));return h}BuildHillStraight(o,i,s){let h=(Math.random()*10|0)+10,d=this.Height-1-Math.random()*4|0,m=0,C=0,T=d,F=!0,P=0,N=0,_=[],rt=0,G=0;for(h>s&&(h=s),m=i;m<i+h;m++)for(C=0;C<this.Height;C++)C>=d&&o.SetBlock(m,C,1+9*16);for(this.AddEnemyLine(o,i+1,i+h-1,d-1);F;)if(T=T-2-Math.random()*3|0,T<=0)F=!1;else if(P=(Math.random()*5|0)+3,N=(Math.random()*(h-P-2)|0)+i+1,_[N-i]||_[N-i+P]||_[N-i-1]||_[N-i+P+1])F=!1;else for(_[N-i]=!0,_[N-i+P]=!0,this.AddEnemyLine(o,N,N+P,T-1),Math.random()*4|0||(this.Decorate(o,N-1,N+P+1,T),F=!1),m=N;m<N+P;m++)for(C=T;C<d;C++)rt=5,G=9,m===N&&(rt=4),m===N+P-1&&(rt=6),C===T&&(G=8),o.GetBlock(m,C)===0?o.SetBlock(m,C,rt+G*16):(o.GetBlock(m,C)===4+8*16&&o.SetBlock(m,C,4+11*16),o.GetBlock(m,C)===6+8*16&&o.SetBlock(m,C,6+11*16));return h}AddEnemyLine(o,i,s,h){let d=0,m=0;for(d=i;d<s;d++)(Math.random()*35|0)<this.Difficulty+1&&(m=Math.random()*4|0,this.Difficulty<1&&(m=0),m===3&&this.Type!==1&&(m=2),o.SetSpriteTemplate(d,h,new S.SpriteTemplate(m,(Math.random()*35|0)<this.Difficulty)))}BuildTubes(o,i,s){let h=(Math.random()*10|0)+5,d=this.Height-1-Math.random()*4|0,m=i+1+Math.random()*4|0,C=d-(Math.random()*2|0)-2,T=0,F=0;for(h>s&&(h=s),T=i;T<i+h;T++)for(T>m+1&&(m+=3+(Math.random()*4|0),C=d-(Math.random()*2|0)-2),m>=i+h-2&&(m+=10),T===m&&(Math.random()*11|0)<this.Difficulty+1&&o.SetSpriteTemplate(T,C,new S.SpriteTemplate(S.Enemy.Flower,!1)),F=0;F<this.Height;F++)if(F>=d)o.SetBlock(T,F,1+9*16);else if((T===m||T===m+1)&&F>=C){let P=10+T-m;F===C?o.SetBlock(T,F,P):o.SetBlock(T,F,P+16)}return h}BuildStraight(o,i,s,h){let d=(Math.random()*10|0)+2,m=this.Height-1-(Math.random()*4|0),C=0,T=0;for(h&&(d=10+(Math.random()*5|0)),d>s&&(d=s),C=i;C<i+d;C++)for(T=0;T<this.Height;T++)T>=m&&o.SetBlock(C,T,1+9*16);return h||d>5&&this.Decorate(o,i,i+d,m),d}Decorate(o,i,s,h){if(!(h<1)){var d=Math.random()*4|0,m=Math.random()*4|0,C=0;if(this.AddEnemyLine(o,i+1,s-1,h-1),h-2>0&&s-1-m-(i+1+d)>1)for(C=i+1+d;C<s-1-m;C++)o.SetBlock(C,h-2,2+2*16);if(d=Math.random()*4|0,m=Math.random()*4|0,h-4>0&&s-1-m-(i+1+d)>2)for(C=i+1+d;C<s-1-m;C++)C!==i+1&&C!==s-2&&!(Math.random()*3|0)?Math.random()*4|0?o.SetBlock(C,h-4,21):o.SetBlock(C,h-4,22):Math.random()*4|0?o.SetBlock(C,h-4,16):Math.random()*4|0?o.SetBlock(C,h-4,17):o.SetBlock(C,h-4,18)}}FixWalls(o){let i=[],s=0,h=0,d=0,m=0,C=0;for(s=0;s<this.Width+1;s++)for(i[s]=[],h=0;h<this.Height+1;h++){for(C=0,d=s-1;d<s+1;d++)for(m=h-1;m<h+1;m++)o.GetBlockCapped(d,m)===1+9*16&&C++;i[s][h]=C===4}this.Blockify(o,i,this.Width+1,this.Height+1)}Blockify(o,i,s,h){var d=0,m=[],C=0,T=0,F=0,P=0,N=0,_=0,rt=0;for(N=0;N<2;N++)m[N]=[];for(this.Type===S.LevelType.Castle?d=8:this.Type===S.LevelType.Underground&&(d=12),C=0;C<s;C++)for(T=0;T<h;T++){for(F=C;F<=C+1;F++)for(P=T;P<=T+1;P++)_=F,rt=P,_<0&&(_=0),rt<0&&(rt=0),_>s-1&&(_=s-1),rt>h-1&&(rt=h-1),m[F-C][P-T]=i[_][rt];m[0][0]===m[1][0]&&m[0][1]===m[1][1]?m[0][0]===m[0][1]?m[0][0]&&o.SetBlock(C,T,1+9*16+d):m[0][0]?o.SetBlock(C,T,1+10*16+d):o.SetBlock(C,T,1+8*16+d):m[0][0]===m[0][1]&&m[1][0]===m[1][1]?m[0][0]?o.SetBlock(C,T,2+9*16+d):o.SetBlock(C,T,9*16+d):m[0][0]===m[1][1]&&m[0][1]===m[1][0]?o.SetBlock(C,T,1+9*16+d):m[0][0]===m[1][0]?m[0][0]?m[0][1]?o.SetBlock(C,T,3+10*16+d):o.SetBlock(C,T,3+11*16+d):m[0][1]?o.SetBlock(C,T,2+8*16+d):o.SetBlock(C,T,8*16+d):m[0][1]===m[1][1]?m[0][1]?m[0][0]?o.SetBlock(C,T,3+9*16+d):o.SetBlock(C,T,3+8*16+d):m[0][0]?o.SetBlock(C,T,2+10*16+d):o.SetBlock(C,T,10*16+d):o.SetBlock(C,T,1+16*d)}}}const ut=class ut extends wt{constructor(i,s,h,d,m,C){super(M.Resources.Images.enemies);c(this,"GroundInertia",.89);c(this,"AirInertia",.89);c(this,"RunTime",0);c(this,"OnGround",!1);c(this,"MayJump",!1);c(this,"JumpTime",0);c(this,"XJumpSpeed",0);c(this,"YJumpSpeed",0);c(this,"Width",4);c(this,"Height",24);c(this,"DeadTime",0);c(this,"FlyDeath",!1);c(this,"WingTime",0);c(this,"NoFireballDeath",!1);c(this,"Type");c(this,"Winged");c(this,"World");c(this,"AvoidCliffs");this.X=s,this.Y=h,this.World=i,this.Type=m,this.Winged=C,this.XPicO=8,this.YPicO=31,this.AvoidCliffs=this.Type===ut.RedKoopa,this.NoFireballDeath=this.Type===ut.Spiky,this.YPic=this.Type,this.YPic>1&&(this.Height=12),this.Facing=d,this.Facing===0&&(this.Facing=1),this.PicWidth=16}CollideCheck(){if(this.DeadTime===0){var i=S.MarioCharacter.X-this.X,s=S.MarioCharacter.Y-this.Y;i>-this.Width*2-4&&i<this.Width*2+4&&s>-this.Height&&s<S.MarioCharacter.Height&&(this.Type!==ut.Spiky&&S.MarioCharacter.Ya>0&&s<=0&&(!S.MarioCharacter.OnGround||!S.MarioCharacter.WasOnGround)?(S.MarioCharacter.Stomp(this),this.Winged?(this.Winged=!1,this.Ya=0):(this.YPicO=7,this.PicHeight=8,this.SpriteTemplate!==null&&(this.SpriteTemplate.IsDead=!0),this.DeadTime=10,this.Winged=!1,this.Type===ut.RedKoopa?this.World.AddSprite(new S.Shell(this.World,this.X,this.Y,0)):this.Type===ut.GreenKoopa&&this.World.AddSprite(new S.Shell(this.World,this.X,this.Y,1)))):S.MarioCharacter.GetHurt())}}Move(){var i=0,s=1.75,h=0;if(this.WingTime++,this.DeadTime>0){if(this.DeadTime--,this.DeadTime===0){for(this.DeadTime=1,i=0;i<8;i++)this.World.AddSprite(new S.Sparkle(this.World,(this.X+Math.random()*16-8|0)+4,(this.Y-Math.random()*8|0)+4,Math.random()*2-1,Math.random()*-1,0,1,5));this.World.RemoveSprite(this)}this.FlyDeath&&(this.X+=this.Xa,this.Y+=this.Ya,this.Ya*=.95,this.Ya+=1);return}this.Xa>2&&(this.Facing=1),this.Xa<-2&&(this.Facing=-1),this.Xa=this.Facing*s,this.MayJump=this.OnGround,this.XFlip=this.Facing===-1,this.RunTime+=Math.abs(this.Xa)+5,h=(this.RunTime/20|0)%2,this.OnGround||(h=1),this.SubMove(this.Xa,0)||(this.Facing=-this.Facing),this.OnGround=!1,this.SubMove(0,this.Ya),this.Ya*=this.Winged?.95:.85,this.OnGround?this.Xa*=this.GroundInertia:this.Xa*=this.AirInertia,this.OnGround?this.Winged&&(this.Ya=-10):this.Winged?this.Ya+=.6:this.Ya+=2,this.Winged&&(h=(this.WingTime/4|0)%2),this.XPic=h}SubMove(i,s){for(var h=!1;i>8;){if(!this.SubMove(8,0))return!1;i-=8}for(;i<-8;){if(!this.SubMove(-8,0))return!1;i+=8}for(;s>8;){if(!this.SubMove(0,8))return!1;s-=8}for(;s<-8;){if(!this.SubMove(0,-8))return!1;s+=8}return s>0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i+this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i-this.Width,this.Y+s+1,i,s)||this.IsBlocking(this.X+i+this.Width,this.Y+s+1,i,s))&&(h=!0),s<0&&(this.IsBlocking(this.X+i,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s))&&(h=!0),i>0&&(this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s,i,s)&&(h=!0),this.AvoidCliffs&&this.OnGround&&!this.World.Level.IsBlocking((this.X+this.Xa+this.Width)/16|0,this.Y/16+1|0,this.Xa,1)&&(h=!0)),i<0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s,i,s)&&(h=!0),this.AvoidCliffs&&this.OnGround&&!this.World.Level.IsBlocking((this.X+this.Xa-this.Width)/16|0,this.Y/16+1|0,this.Xa,1)&&(h=!0)),h?(i<0&&(this.X=((this.X-this.Width)/16|0)*16+this.Width,this.Xa=0),i>0&&(this.X=((this.X+this.Width)/16+1|0)*16-this.Width-1,this.Xa=0),s<0&&(this.Y=((this.Y-this.Height)/16|0)*16+this.Height,this.JumpTime=0,this.Ya=0),s>0&&(this.Y=((this.Y-1)/16+1|0)*16-1,this.OnGround=!0),!1):(this.X+=i,this.Y+=s,!0)}IsBlocking(i,s,h,d){return i=i/16|0,s=s/16|0,i===this.X/16|0&&s===this.Y/16|0?!1:this.World.Level.IsBlocking(i,s,h,d)}ShellCollideCheck(i){if(this.DeadTime!==0)return!1;var s=i.X-this.X,h=i.Y-this.Y;return s>-16&&s<16&&h>-this.Height&&h<i.Height?(M.Resources.PlaySound("kick"),this.Xa=i.Facing*2,this.Ya=-5,this.FlyDeath=!0,this.SpriteTemplate!==null&&(this.SpriteTemplate.IsDead=!0),this.DeadTime=100,this.Winged=!1,this.YFlip=!0,!0):!1}FireballCollideCheck(i){if(this.DeadTime!==0)return!1;var s=i.X-this.X,h=i.Y-this.Y;if(s>-16&&s<16&&h>-this.Height&&h<i.Height)return this.NoFireballDeath||(M.Resources.PlaySound("kick"),this.Xa=i.Facing*2,this.Ya=-5,this.FlyDeath=!0,this.SpriteTemplate!==null&&(this.SpriteTemplate.IsDead=!0),this.DeadTime=100,this.Winged=!1,this.YFlip=!0),!0}BumpCheck(i,s){this.DeadTime===0&&this.X+this.Width>i*16&&this.X-this.Width<i*16+16&&s===(this.Y-1)/16|0&&(M.Resources.PlaySound("kick"),this.Xa=-S.MarioCharacter.Facing*2,this.Ya=-5,this.FlyDeath=!0,this.SpriteTemplate!==null&&(this.SpriteTemplate.IsDead=!0),this.DeadTime=100,this.Winged=!1,this.YFlip=!0)}SubDraw(i,s){S.NotchSprite.prototype.Draw.call(this,i,s)}Draw(i,s){var h=0,d=0;this.Winged&&(h=(this.XOld+(this.X-this.XOld)*this.Delta|0)-this.XPicO,d=(this.YOld+(this.Y-this.YOld)*this.Delta|0)-this.YPicO,this.Type!==ut.RedKoopa&&this.Type!==ut.GreenKoopa&&(this.XFlip=!this.XFlip,i.save(),i.scale(this.XFlip?-1:1,this.YFlip?-1:1),i.translate(this.XFlip?-320:0,this.YFlip?-240:0),i.drawImage(this.Image,(this.WingTime/4|0)%2*16,4*32,16,32,this.XFlip?320-h-24:h-8,this.YFlip?240-d-32:d-8,16,32),i.restore(),this.XFlip=!this.XFlip)),this.SubDraw(i,s),this.Winged&&(h=(this.XOld+(this.X-this.XOld)*this.Delta|0)-this.XPicO,d=(this.YOld+(this.Y-this.YOld)*this.Delta|0)-this.YPicO,this.Type===ut.RedKoopa&&this.Type===ut.GreenKoopa?(i.save(),i.scale(this.XFlip?-1:1,this.YFlip?-1:1),i.translate(this.XFlip?-320:0,this.YFlip?-240:0),i.drawImage(this.Image,(this.WingTime/4|0)%2*16,4*32,16,32,this.XFlip?320-h-24:h-8,this.YFlip?240-d:d-8,16,32),i.restore()):(i.save(),i.scale(this.XFlip?-1:1,this.YFlip?-1:1),i.translate(this.XFlip?-320:0,this.YFlip?-240:0),i.drawImage(this.Image,(this.WingTime/4|0)%2*16,4*32,16,32,this.XFlip?320-h-24:h-8,this.YFlip?240-d-32:d-8,16,32),i.restore()))}};c(ut,"RedKoopa",0),c(ut,"GreenKoopa",1),c(ut,"Goomba",2),c(ut,"Spiky",3),c(ut,"Flower",4);let me=ut;class Qi extends me{constructor(i,s,h){super(i,s,h,1,S.Enemy.Spiky,!1);c(this,"YStart");c(this,"Tick");this.NoFireballDeath=!1,this.XPic=0,this.YPic=6,this.YPicO=24,this.Height=12,this.Width=2,this.YStart=h,this.Ya=-8,this.Y-=1,this.Layer=0,this.JumpTime=0,this.Tick=0;for(let d=0;d<4;d++)this.Move()}Move(){if(this.DeadTime>0){if(this.DeadTime--,this.DeadTime===0){this.DeadTime=1;for(let i=0;i<8;i++)this.World.AddSprite(new S.Sparkle((this.X+Math.random()*16-8|0)+4,(this.Y+Math.random()*8|0)+4,Math.random()*2-1,Math.random()*-1,0,1,5));this.World.RemoveSprite(this)}this.X+=this.Xa,this.Y+=this.Ya,this.Ya*=.95,this.Ya+=1;return}if(this.Tick++,this.Y>=this.YStart){this.YStart=this.Y;const i=Math.abs(S.MarioCharacter.X-this.X)|0;this.JumpTime++,this.JumpTime>40&&i>24?this.Ya=-8:this.Ya=0}else this.JumpTime=0;this.Y+=this.Ya,this.Ya*=.9,this.Ya+=.1,this.XPic=((this.Tick/2|0)&1)*2+((this.Tick/6|0)&1)}}class Lr{constructor(o,i){c(this,"Type");c(this,"Winged");c(this,"LastVisibleTick");c(this,"IsDead");c(this,"Sprite");this.Type=o,this.Winged=i,this.LastVisibleTick=-1,this.IsDead=!1,this.Sprite=null}Spawn(o,i,s,h){this.IsDead||(this.Type===S.Enemy.Flower?this.Sprite=new Qi(o,i*16+15,s*16+24):this.Sprite=new me(o,i*16+8,s*16+15,h,this.Type,this.Winged),this.Sprite.SpriteTemplate=this,o.AddSprite(this.Sprite))}}class Yr extends wt{constructor(i,s,h,d){super(M.Resources.Images.particles);c(this,"GroundInertia",.89);c(this,"AirInertia",.89);c(this,"World");c(this,"Facing");c(this,"Height");c(this,"Width");c(this,"Dead");c(this,"DeadTime");c(this,"Anim");c(this,"OnGround");c(this,"FlipX");this.World=i,this.X=s,this.Y=h,this.Facing=d,this.XPicO=4,this.YPicO=4,this.YPic=3,this.XPic=4,this.Height=8,this.Width=4,this.PicWidth=this.PicHeight=8,this.Ya=4,this.Dead=!1,this.DeadTime=0,this.Anim=0,this.OnGround=!1}Move(){if(this.DeadTime>0){for(let s=0;s<8;s++)this.World.AddSprite(new S.Sparkle(this.World,(this.X+Math.random()*8-4|0)+4,(this.Y+Math.random()*8-4|0)+2,Math.random()*2-1*this.Facing,Math.random()*2-1,0,1,5));this.World.RemoveSprite(this);return}this.Facing!=0&&this.Anim++,this.Xa>2&&(this.Facing=1),this.Xa<-2&&(this.Facing=-1),this.Xa=this.Facing*8,this.World.CheckFireballCollide(this),this.FlipX=this.Facing===-1,this.XPic=this.Anim%4,this.SubMove(this.Xa,0)||this.Die(),this.OnGround=!1,this.SubMove(0,this.Ya),this.OnGround&&(this.Ya=-10),this.Ya*=.95,this.OnGround?this.Xa*=this.GroundInertia:this.Xa*=this.AirInertia,this.OnGround||(this.Ya+=1.5)}SubMove(i,s){let h=!1;for(;i>8;){if(!this.SubMove(8,0))return!1;i-=8}for(;i<-8;){if(!this.SubMove(-8,0))return!1;i+=8}for(;s>8;){if(!this.SubMove(0,8))return!1;s-=8}for(;s<-8;){if(!this.SubMove(0,-8))return!1;s+=8}return s>0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i+this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i-this.Width,this.Y+s+1,i,s)||this.IsBlocking(this.X+i+this.Width,this.Y+s+1,i,s))&&(h=!0),s<0&&(this.IsBlocking(this.X+i,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s))&&(h=!0),i>0&&(this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s,i,s)&&(h=!0)),i<0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s,i,s)&&(h=!0)),h?(i<0&&(this.X=((this.X-this.Width)/16|0)*16+this.Width,this.Xa=0),i>0&&(this.X=((this.X+this.Width)/16+1|0)*16-this.Width-1,this.Xa=0),s<0&&(this.Y=((this.Y-this.Height)/16|0)*16+this.Height,this.Ya=0),s>0&&(this.Y=((this.Y-1)/16+1|0)*16-1,this.OnGround=!0),!1):(this.X+=i,this.Y+=s,!0)}IsBlocking(i,s,h,d){return i=i/16|0,s=s/16|0,i===this.X/16|0&&s===this.Y/16|0?!1:this.World.Level.IsBlocking(i,s,h,d)}Die(){this.Dead=!0,this.Xa=-this.Facing*2,this.Ya=-5,this.DeadTime=100}}class Ir extends wt{constructor(i,s,h,d,m){super(M.Resources.Images.particles);c(this,"World");c(this,"Life");c(this,"XPicStart");this.World=i,this.X=s,this.Y=h,this.Xa=d,this.Ya=m,this.XPic=Math.random()*2|0,this.YPic=0,this.Life=10+(Math.random()*5|0),this.XPicStart=this.XPic,this.XPicO=4,this.YPicO=4,this.PicWidth=8,this.PicHeight=8}Move(){this.Life>10?this.XPic=7:this.XPic=this.XPicStart+(10-this.Life)*.4|0,this.Life--<0&&this.World.RemoveSprite(this),this.X+=this.Xa,this.Y+=this.Ya}}class Wr extends wt{constructor(i,s,h){super(M.Resources.Images.map);c(this,"World");c(this,"Life");this.World=i,this.Life=10,this.PicWidth=this.PicHeight=16,this.X=s*16,this.Y=h*16-16,this.Xa=0,this.Ya=-6,this.XPic=0,this.YPic=2}Move(){if(this.Life--<0){this.World.RemoveSprite(this);for(let i=0;i<2;i++)for(let s=0;s<2;s++)this.World.AddSprite(new S.Sparkle(this.World,this.X+i*8+Math.random()*8|0,this.Y+s*8+Math.random()*8|0,0,0,0,2,5))}this.XPic=this.Life&3,this.X+=this.Xa,this.Y+=this.Ya,this.Ya+=1}}class Fr extends wt{constructor(i,s,h){super(M.Resources.Images.items);c(this,"RunTime");c(this,"GroundInertia");c(this,"AirInertia");c(this,"OnGround");c(this,"Width");c(this,"Height");c(this,"World");c(this,"Facing");c(this,"Life");c(this,"JumpTime");this.RunTime=0,this.GroundInertia=.89,this.AirInertia=.89,this.OnGround=!1,this.Width=4,this.Height=24,this.World=i,this.X=s,this.Y=h,this.XPicO=8,this.YPicO=15,this.YPic=0,this.Height=12,this.Facing=1,this.PicWidth=this.PicHeight=16,this.Life=0}CollideCheck(){var i=S.MarioCharacter.X-this.X,s=S.MarioCharacter.Y-this.Y;i>-16&&i<16&&s>-this.Height&&s<S.MarioCharacter.Height&&(S.MarioCharacter.GetMushroom(),this.World.RemoveSprite(this))}Move(){if(this.Life<9){this.Layer=0,this.Y--,this.Life++;return}var i=1.75;this.Layer=1,this.Xa>2&&(this.Facing=1),this.Xa<-2&&(this.Facing=-1),this.Xa=this.Facing*i,this.XFlip=this.Facing===-1,this.RunTime+=Math.abs(this.Xa)+5,this.SubMove(this.Xa,0)||(this.Facing=-this.Facing),this.OnGround=!1,this.SubMove(0,this.Ya),this.Ya*=.85,this.OnGround?this.Xa*=this.GroundInertia:this.Xa*=this.AirInertia,this.OnGround||(this.Ya+=2)}SubMove(i,s){for(var h=!1;i>8;){if(!this.SubMove(8,0))return!1;i-=8}for(;i<-8;){if(!this.SubMove(-8,0))return!1;i+=8}for(;s>8;){if(!this.SubMove(0,8))return!1;s-=8}for(;s<-8;){if(!this.SubMove(0,-8))return!1;s+=8}return s>0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i+this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i-this.Width,this.Y+s+1,i,s)||this.IsBlocking(this.X+i+this.Width,this.Y+s+1,i,s))&&(h=!0),s<0&&(this.IsBlocking(this.X+i,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s))&&(h=!0),i>0&&(this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s,i,s)&&(h=!0)),i<0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s,i,s)&&(h=!0)),h?(i<0&&(this.X=((this.X-this.Width)/16|0)*16+this.Width,this.Xa=0),i>0&&(this.X=((this.X+this.Width)/16+1|0)*16-this.Width-1,this.Xa=0),s<0&&(this.Y=((this.Y-this.Height)/16|0)*16+this.Height,this.JumpTime=0,this.Ya=0),s>0&&(this.Y=((this.Y-1)/16+1|0)*16-1,this.OnGround=!0),!1):(this.X+=i,this.Y+=s,!0)}IsBlocking(i,s,h,d){return i=i/16|0,s=s/16|0,i===this.X/16|0&&s===this.Y/16|0?!1:this.World.Level.IsBlocking(i,s,h,d)}BumpCheck(i,s){this.X+this.Width>i*16&&this.X-this.Width<i*16-16&&s===(s-1)/16|0&&(this.Facing=-S.MarioCharacter.Facing,this.Ya=-10)}}class Pr extends wt{constructor(i,s,h,d,m,C,T){super(M.Resources.Images.particles);c(this,"World");c(this,"Life");this.World=i,this.X=s,this.Y=h,this.Xa=d,this.Ya=m,this.XPic=Math.random()*2|0,this.YPic=0,this.XPicO=4,this.YPicO=4,this.PicWidth=8,this.PicHeight=8,this.Life=10}Move(){this.Life-this.Delta<0&&this.World.RemoveSprite(this),this.Life-=this.Delta,this.X+=this.Xa,this.Y+=this.Ya,this.Ya*=.95,this.Ya+=3}}class Or extends wt{constructor(i,s,h){super(M.Resources.Images.items);c(this,"Width");c(this,"Height");c(this,"World");c(this,"Facing");c(this,"Life");this.Width=4,this.Height=12,this.World=i,this.X=s,this.Y=h,this.XPicO=8,this.YPicO=15,this.XPic=1,this.YPic=0,this.Facing=1,this.PicWidth=this.PicHeight=16,this.Life=0}CollideCheck(){const i=S.MarioCharacter.X-this.X,s=S.MarioCharacter.Y-this.Y;i>-16&&i<16&&s>-this.Height&&s<S.MarioCharacter.Height&&(S.MarioCharacter.GetFlower(),this.World.RemoveSprite(this))}Move(){if(this.Life<9){this.Layer=0,this.Y--,this.Life++;return}}}class Ar extends wt{constructor(i,s,h,d){super(M.Resources.Images.enemies);c(this,"World");c(this,"Facing");c(this,"Height");c(this,"Width");c(this,"DeadTime");c(this,"Dead");c(this,"Anim");this.World=i,this.X=s,this.Y=h,this.Facing=d,this.XPicO=8,this.YPicO=31,this.Height=12,this.Width=4,this.PicWidth=16,this.YPic=5,this.XPic=0,this.Ya=-5,this.DeadTime=0,this.Dead=!1,this.Anim=0}CollideCheck(){if(this.Dead)return;const i=S.MarioCharacter.X-this.X,s=S.MarioCharacter.Y-this.Y;i>-16&&i<16&&s>-this.Height&&s<this.World.Mario.Height&&(S.MarioCharacter.Y>0&&s<=0&&(!S.MarioCharacter.OnGround||!S.MarioCharacter.WasOnGround)?(S.MarioCharacter.Stomp(this),this.Dead=!0,this.Xa=0,this.Ya=1,this.DeadTime=100):S.MarioCharacter.GetHurt())}Move(){if(this.DeadTime>0){if(this.DeadTime--,this.DeadTime===0){this.DeadTime=1;for(let s=0;s<8;s++)this.World.AddSprite(new S.Sparkle((this.X+Math.random()*16-8|0)+4,(this.Y+Math.random()*8|0)+4,Math.random()*2-1,Math.random()*-1,0,1,5));this.World.RemoveSprite(this)}this.X+=this.Xa,this.Y+=this.Ya,this.Ya*=.95,this.Ya+=1;return}this.Xa=this.Facing*4,this.XFlip=this.Facing===-1,this.Move(this.Xa,0)}SubMove(i,s){return this.X+=i,!0}FireballCollideCheck(i){if(this.DeadTime!==0)return!1;const s=i.X-this.X,h=i.Y-this.Y;return s>-16&&s<16&&h>-this.Height&&h<i.Height}ShellCollideCheck(i){if(this.DeadTime!==0)return!1;const s=i.X-this.X,h=i.Y-this.Y;return s>-16&&s<16&&h>-this.Height&&h<i.Height?(M.Resources.PlaySound("kick"),this.Dead=!0,this.Xa=0,this.Ya=1,this.DeadTime=100,!0):!1}}class Br extends wt{constructor(i,s,h,d){super(M.Resources.Images.enemies);c(this,"World");c(this,"Width");c(this,"Height");c(this,"Facing");c(this,"Dead");c(this,"DeadTime");c(this,"Carried");c(this,"GroundInertia");c(this,"AirInertia");c(this,"OnGround");c(this,"Anim");this.World=i,this.X=s,this.Y=h,this.YPic=d,this.XPicO=8,this.YPicO=31,this.Width=4,this.Height=12,this.Facing=0,this.PicWidth=16,this.XPic=4,this.Ya=-5,this.Dead=!1,this.DeadTime=0,this.Carried=!1,this.GroundInertia=.89,this.AirInertia=.89,this.OnGround=!1,this.Anim=0}FireballCollideCheck(i){if(this.DeadTime!==0)return!1;const s=i.X-this.X,h=i.Y-this.Y;return s>-16&&s<16&&h>-this.Height&&h<i.Height?(this.Facing!==0||(M.Resources.PlaySound("kick"),this.Xa=i.Facing*2,this.Ya=-5,this.SpriteTemplate!==null&&(this.SpriteTemplate.IsDead=!0),this.DeadTime=100,this.YFlip=!0),!0):!1}CollideCheck(){if(this.Carried||this.Dead||this.DeadTime>0)return;const i=S.MarioCharacter.X-this.X,s=S.MarioCharacter.Y-this.Y;i>-16&&i<16&&s>-this.Height&&s<S.MarioCharacter.Height&&(S.MarioCharacter.Ya>0&&s<=0&&(!S.MarioCharacter.OnGround||!S.MarioCharacter.WasOnGround)?(S.MarioCharacter.Stomp(this),this.Facing!==0?(this.Xa=0,this.Facing=0):this.Facing=S.MarioCharacter.Facing):this.Facing!==0?S.MarioCharacter.GetHurt():(S.MarioCharacter.Kick(this),this.Facing=S.MarioCharacter.Facing))}Move(){if(this.Carried){this.World.CheckShellCollide(this);return}if(this.DeadTime>0){if(this.DeadTime--,this.DeadTime===0){this.DeadTime=1;for(let s=0;s<8;s++)this.World.AddSprite(new S.Sparkle((this.X+Math.random()*16-8|0)+4,(this.Y+Math.random()*8|0)+4,Math.random()*2-1,Math.random()*-1,0,1,5));this.World.RemoveSprite(this)}this.X+=this.Xa,this.Y+=this.Ya,this.Ya*=.95,this.Ya+=1;return}this.Facing!==0&&this.Anim++,this.Xa>2&&(this.Facing=1),this.Xa<-2&&(this.Facing=-1),this.Xa=this.Facing*11,this.Facing!==0&&this.World.CheckShellCollide(this),this.XFlip=this.Facing===-1,this.XPic=(this.Anim/2|0)%4+3,this.SubMove(this.Xa,0)||(M.Resources.PlaySound("bump"),this.Facing=-this.Facing),this.OnGround=!1,this.SubMove(0,this.Ya),this.Ya*=.85,this.OnGround?this.Xa*=this.GroundInertia:this.Xa*=this.AirInertia,this.OnGround||(this.Ya+=2)}SubMove(i,s){let h=!1;for(;i>8;){if(!this.SubMove(8,0))return!1;i-=8}for(;i<-8;){if(!this.SubMove(-8,0))return!1;i+=8}for(;s>8;){if(!this.SubMove(0,8))return!1;s-=8}for(;s<-8;){if(!this.SubMove(0,-8))return!1;s+=8}return s>0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i+this.Width,this.Y+s,i,0)||this.IsBlocking(this.X+i-this.Width,this.Y+s+1,i,s)||this.IsBlocking(this.X+i+this.Width,this.Y+s+1,i,s))&&(h=!0),s<0&&(this.IsBlocking(this.X+i,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)||h||this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s))&&(h=!0),i>0&&(this.IsBlocking(this.X+i+this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i+this.Width,this.Y+s,i,s)&&(h=!0)),i<0&&(this.IsBlocking(this.X+i-this.Width,this.Y+s-this.Height,i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s-(this.Height/2|0),i,s)&&(h=!0),this.IsBlocking(this.X+i-this.Width,this.Y+s,i,s)&&(h=!0)),h?(i<0&&(this.X=((this.X-this.Width)/16|0)*16+this.Width,this.Xa=0),i>0&&(this.X=((this.X+this.Width)/16+1|0)*16-this.Width-1,this.Xa=0),s<0&&(this.Y=((this.Y-this.Height)/16|0)*16+this.Height,this.Ya=0),s>0&&(this.Y=((this.Y-1)/16+1|0)*16-1,this.OnGround=!0),!1):(this.X+=i,this.Y+=s,!0)}IsBlocking(i,s,h,d){if(i=i/16|0,s=s/16|0,i===(this.X/16|0)&&s===(this.Y/16|0))return!1;const m=this.World.Level.IsBlocking(i,s,h,d);return m&&d===0&&h!==0&&this.World.Bump(i,s,!0),m}BumpCheck(i,s){this.X+this.Width>i*16&&this.X-this.Width<i*16+16&&s===((this.Y-1)/16|0)&&(this.Facing=-S.MarioCharacter.Facing,this.Ya=-10)}Die(){this.Dead=!0,this.Carried=!1,this.Xa=-this.Facing*2,this.Ya=-5,this.DeadTime=100}ShellCollideCheck(i){if(this.DeadTime!==0)return!1;const s=i.X-this.X,h=i.Y-this.Y;return s>-16&&s<16&&h>-this.Height&&h<i.Height?(M.Resources.PlaySound("kick"),(S.MarioCharacter.Carried===i||S.MarioCharacter.Carried===this)&&(S.MarioCharacter.Carried=null),this.Die(),i.Die(),!0):!1}Release(i){this.Carried=!1,this.Facing=S.MarioCharacter.Facing,this.X+=this.Facing*8}}class Hr extends We{constructor(){super();c(this,"drawManager");c(this,"camera");c(this,"logoY");c(this,"bounce");c(this,"font");c(this,"title");c(this,"logo");this.drawManager=null,this.camera=null,this.logoY=null,this.bounce=null,this.font=null}Enter(){this.drawManager=new M.DrawableManager,this.camera=new M.Camera;const i=new S.BackgroundGenerator(2048,15,!0,S.LevelType.Overground),s=new S.BackgroundRenderer(i.CreateLevel(),320,240,2);i.SetValues(2048,15,!1,S.LevelType.Overground);const h=new S.BackgroundRenderer(i.CreateLevel(),320,240,1);this.title=new M.Sprite,this.title.Image=M.Resources.Images.title,this.title.X=0,this.title.Y=120,this.logo=new M.Sprite,this.logo.Image=M.Resources.Images.logo,this.logo.X=0,this.logo.Y=0,this.font=S.SpriteCuts.CreateRedFont(),this.font.Strings[0]={String:"Press S to Start",X:96,Y:120},this.logoY=20,this.drawManager.Add(s),this.drawManager.Add(h),this.bounce=0,S.GlobalMapState=new S.MapState,S.MarioCharacter=new S.Character,S.MarioCharacter.Image=M.Resources.Images.smallMario,S.PlayTitleMusic()}Exit(){S.StopMusic(),this.drawManager.Clear(),delete this.drawManager,delete this.camera,delete this.font}Update(i){this.bounce+=i*2,this.logoY=20+Math.sin(this.bounce)*10,this.camera.X+=i*25,this.drawManager.Update(i)}Draw(i){this.drawManager.Draw(i,this.camera),i.drawImage(M.Resources.Images.title,0,120),i.drawImage(M.Resources.Images.logo,0,this.logoY),this.font.Draw(i,this.Camera)}CheckForChange(i){M.KeyboardInput.IsKeyDown(M.Keys.S)&&i.ChangeState(S.GlobalMapState)}}class Rr{constructor(){c(this,"Images",[]);c(this,"ImagesLoaded",!1);c(this,"ScreenColor",0);c(this,"ColorDirection",1);c(this,"ImageIndex",0);c(this,"SoundIndex",0)}Enter(){var o=0;for(o=0;o<15;o++)this.Images[o]={};this.Images[0].name="background",this.Images[1].name="endScene",this.Images[2].name="enemies",this.Images[3].name="fireMario",this.Images[4].name="font",this.Images[5].name="gameOverGhost",this.Images[6].name="items",this.Images[7].name="logo",this.Images[8].name="map",this.Images[9].name="mario",this.Images[10].name="particles",this.Images[11].name="racoonMario",this.Images[12].name="smallMario",this.Images[13].name="title",this.Images[14].name="worldMap",this.Images[0].src="images/bgsheet.png",this.Images[1].src="images/endscene.gif",this.Images[2].src="images/enemysheet.png",this.Images[3].src="images/firemariosheet.png",this.Images[4].src="images/font.gif",this.Images[5].src="images/gameovergost.gif",this.Images[6].src="images/itemsheet.png",this.Images[7].src="images/logo.gif",this.Images[8].src="images/mapsheet.png",this.Images[9].src="images/mariosheet.png",this.Images[10].src="images/particlesheet.png",this.Images[11].src="images/racoonmariosheet.png",this.Images[12].src="images/smallmariosheet.png",this.Images[13].src="images/title.gif",this.Images[14].src="images/worldmap.png",M.Resources.AddImages(this.Images);var i=new Audio;i.canPlayType("audio/mp3")?M.Resources.AddSound("1up","sounds/1-up.mp3",1).AddSound("breakblock","sounds/breakblock.mp3").AddSound("bump","sounds/bump.mp3",4).AddSound("cannon","sounds/cannon.mp3").AddSound("coin","sounds/coin.mp3",5).AddSound("death","sounds/death.mp3",1).AddSound("exit","sounds/exit.mp3",1).AddSound("fireball","sounds/fireball.mp3",1).AddSound("jump","sounds/jump.mp3").AddSound("kick","sounds/kick.mp3").AddSound("pipe","sounds/pipe.mp3",1).AddSound("powerdown","sounds/powerdown.mp3",1).AddSound("powerup","sounds/powerup.mp3",1).AddSound("sprout","sounds/sprout.mp3",1).AddSound("stagestart","sounds/stagestart.mp3",1).AddSound("stomp","sounds/stomp.mp3",2):M.Resources.AddSound("1up","sounds/1-up.wav",1).AddSound("breakblock","sounds/breakblock.wav").AddSound("bump","sounds/bump.wav",2).AddSound("cannon","sounds/cannon.wav").AddSound("coin","sounds/coin.wav",5).AddSound("death","sounds/death.wav",1).AddSound("exit","sounds/exit.wav",1).AddSound("fireball","sounds/fireball.wav",1).AddSound("jump","sounds/jump.wav",1).AddSound("kick","sounds/kick.wav",1).AddSound("message","sounds/message.wav",1).AddSound("pipe","sounds/pipe.wav",1).AddSound("powerdown","sounds/powerdown.wav",1).AddSound("powerup","sounds/powerup.wav",1).AddSound("sprout","sounds/sprout.wav",1).AddSound("stagestart","sounds/stagestart.wav",1).AddSound("stomp","sounds/stomp.wav",1),S.Tile.LoadBehaviors()}Exit(){delete this.Images}Update(o){if(!this.ImagesLoaded){this.ImagesLoaded=!0;var i=0;for(i=0;i<this.Images.length;i++)if(M.Resources.Images[this.Images[i].name].complete!==!0){this.ImagesLoaded=!1;break}}this.ScreenColor+=this.ColorDirection*255*o,this.ScreenColor>255?(this.ScreenColor=255,this.ColorDirection=-1):this.ScreenColor<0&&(this.ScreenColor=0,this.ColorDirection=1)}Draw(o){if(this.ImagesLoaded)o.fillStyle="rgb(0, 0, 0)",o.fillRect(0,0,640,480);else{var i=parseInt(this.ScreenColor,10);o.fillStyle="rgb("+i+","+i+","+i+")",o.fillRect(0,0,640,480)}}CheckForChange(o){this.ImagesLoaded&&(S.GlobalMapState=new S.MapState,o.ChangeState(new S.TitleState))}}const Ie=class Ie{constructor(){c(this,"drawManager");c(this,"camera");c(this,"gameOver");c(this,"font");c(this,"wasKeyDown");this.drawManager=null,this.camera=null,this.gameOver=null,this.font=null,this.wasKeyDown=!1}Enter(){this.drawManager=new M.DrawableManager,this.camera=new M.Camera,this.gameOver=new M.AnimatedSprite,this.gameOver.Image=M.Resources.Images.gameOverGhost,this.gameOver.SetColumnCount(9),this.gameOver.SetRowCount(1),this.gameOver.AddNewSequence("turnLoop",0,0,0,8),this.gameOver.PlaySequence("turnLoop",!0),this.gameOver.FramesPerSecond=1/15,this.gameOver.X=112,this.gameOver.Y=68,this.font=S.SpriteCuts.CreateBlackFont(),this.font.Strings[0]={String:"Game over!",X:116,Y:160},this.drawManager.Add(this.font),this.drawManager.Add(this.gameOver)}Exit(){this.drawManager.Clear(),delete this.drawManager,delete this.camera,delete this.gameOver,delete this.font}Update(o){this.drawManager.Update(o),M.KeyboardInput.IsKeyDown(M.Keys.S)&&(this.wasKeyDown=!0)}Draw(o){this.drawManager.Draw(o,this.camera)}CheckForChange(o){this.wasKeyDown&&!M.KeyboardInput.IsKeyDown(M.Keys.S)&&o.ChangeState(new S.TitleState)}};c(Ie,"instance",new Ie);let ri=Ie;class Er{constructor(){c(this,"waitTime");c(this,"drawManager");c(this,"camera");c(this,"font");c(this,"kissing");c(this,"wasKeyDown");this.waitTime=2,this.drawManager=null,this.camera=null,this.font=null,this.kissing=null,this.wasKeyDown=!1}Enter(){this.drawManager=new M.DrawableManager,this.camera=new M.Camera,this.font=S.SpriteCuts.CreateBlackFont(),this.font.Strings[0]={String:"Thank you for saving me, Mario!",X:36,Y:160},this.kissing=new M.AnimatedSprite,this.kissing.Image=M.Resources.Images.endScene,this.kissing.X=112,this.kissing.Y=52,this.kissing.SetColumnCount(2),this.kissing.SetRowCount(1),this.kissing.AddNewSequence("loop",0,0,0,1),this.kissing.PlaySequence("loop",!0),this.kissing.FramesPerSecond=1/2,this.waitTime=2,this.drawManager.Add(this.font),this.drawManager.Add(this.kissing)}Exit(){this.drawManager.Clear(),delete this.drawManager,delete this.camera}Update(o){this.drawManager.Update(o),this.waitTime>0?this.waitTime-=o:M.KeyboardInput.IsKeyDown(M.Keys.S)&&(this.wasKeyDown=!0)}Draw(o){this.drawManager.Draw(o,this.camera)}CheckForChange(o){this.waitTime<=0&&this.wasKeyDown&&!M.KeyboardInput.IsKeyDown(M.Keys.S)&&o.ChangeState(new S.TitleState)}}class Nr extends We{constructor(){super();c(this,"camera");c(this,"Level");c(this,"Data");c(this,"XMario");c(this,"YMario");c(this,"XMarioA");c(this,"YMarioA");c(this,"MoveTime");c(this,"LevelId");c(this,"Farthest");c(this,"XFarthestCap");c(this,"YFarthestCap");c(this,"MapImage");c(this,"MapContext");c(this,"CanEnterLevel");c(this,"EnterLevel");c(this,"LevelDifficulty");c(this,"LevelType");c(this,"WorldNumber");c(this,"WaterSprite");c(this,"DecoSprite");c(this,"HelpSprite");c(this,"SmallMario");c(this,"LargeMario");c(this,"FontShadow");c(this,"Font");this.camera=new M.Camera,this.Level=[],this.Data=[],this.XMario=0,this.YMario=0,this.XMarioA=0,this.YMarioA=0,this.MoveTime=0,this.LevelId=0,this.Farthest=0,this.XFarthestCap=0,this.YFarthestCap=0,this.MapImage=document.createElement("canvas"),this.MapImage.width=320,this.MapImage.height=240,this.MapContext=this.MapImage.getContext("2d"),this.CanEnterLevel=!1,this.EnterLevel=!1,this.LevelDifficulty=0,this.LevelType=0,this.WorldNumber=-1,this.NextWorld()}Enter(){this.WaterSprite=new M.AnimatedSprite,this.WaterSprite.Image=M.Resources.Images.worldMap,this.WaterSprite.SetColumnCount(16),this.WaterSprite.SetRowCount(16),this.WaterSprite.AddNewSequence("loop",14,0,14,3),this.WaterSprite.FramesPerSecond=1/3,this.WaterSprite.PlaySequence("loop",!0),this.WaterSprite.X=0,this.WaterSprite.Y=0,this.DecoSprite=new M.AnimatedSprite,this.DecoSprite.Image=M.Resources.Images.worldMap,this.DecoSprite.SetColumnCount(16),this.DecoSprite.SetRowCount(16),this.DecoSprite.AddNewSequence("world0",10,0,10,3),this.DecoSprite.AddNewSequence("world1",11,0,11,3),this.DecoSprite.AddNewSequence("world2",12,0,12,3),this.DecoSprite.AddNewSequence("world3",13,0,13,3),this.DecoSprite.FramesPerSecond=1/3,this.DecoSprite.PlaySequence("world0",!0),this.DecoSprite.X=0,this.DecoSprite.Y=0,this.HelpSprite=new M.AnimatedSprite,this.HelpSprite.Image=M.Resources.Images.worldMap,this.HelpSprite.SetColumnCount(16),this.HelpSprite.SetRowCount(16),this.HelpSprite.AddNewSequence("help",7,3,7,5),this.HelpSprite.FramesPerSecond=1/2,this.HelpSprite.PlaySequence("help",!0),this.HelpSprite.X=0,this.HelpSprite.Y=0,this.SmallMario=new M.AnimatedSprite,this.SmallMario.Image=M.Resources.Images.worldMap,this.SmallMario.SetColumnCount(16),this.SmallMario.SetRowCount(16),this.SmallMario.AddNewSequence("small",1,0,1,1),this.SmallMario.FramesPerSecond=1/3,this.SmallMario.PlaySequence("small",!0),this.SmallMario.X=0,this.SmallMario.Y=0,this.LargeMario=new M.AnimatedSprite,this.LargeMario.Image=M.Resources.Images.worldMap,this.LargeMario.SetColumnCount(16),this.LargeMario.SetRowCount(8),this.LargeMario.AddNewSequence("large",0,2,0,3),this.LargeMario.AddNewSequence("fire",0,4,0,5),this.LargeMario.FramesPerSecond=1/3,this.LargeMario.PlaySequence("large",!0),this.LargeMario.X=0,this.LargeMario.Y=0,this.FontShadow=S.SpriteCuts.CreateBlackFont(),this.Font=S.SpriteCuts.CreateWhiteFont(),this.DecoSprite.PlaySequence("world"+this.WorldNumber%4,!0),S.MarioCharacter.Fire?this.LargeMario.PlaySequence("fire",!0):this.LargeMario.PlaySequence("large",!0),this.EnterLevel=!1,this.LevelDifficulty=0,this.LevelType=0,S.PlayMapMusic()}Exit(){S.StopMusic(),delete this.WaterSprite,delete this.DecoSprite,delete this.HelpSprite,delete this.SmallMario,delete this.LargeMario,delete this.FontShadow,delete this.Font}NextWorld(){let i=!1;if(this.WorldNumber++,this.WorldNumber!==8){for(this.MoveTime=0,this.LevelId=0,this.Farthest=0,this.XFarthestCap=0,this.YFarthestCap=0;!i;)i=this.GenerateLevel();this.RenderStatic()}}GenerateLevel(){let i=0,s=0,h=0,d=0,m=0,C=0;const T=new S.ImprovedNoise(Math.random()*9223372036854776e3|0),F=new S.ImprovedNoise(Math.random()*9223372036854776e3|0),P=new S.ImprovedNoise(Math.random()*9223372036854776e3|0),N=320/16+1,_=240/16+1;this.Level=[],this.Data=[];const rt=Math.random()*512,G=Math.random()*512,x=Math.random()*512,Bt=Math.random()*512;for(i=0;i<N;i++)for(this.Level[i]=[],this.Data[i]=[],s=0;s<_;s++)h=T.PerlinNoise(i*10+rt,s*10+G),d=F.PerlinNoise(i*10+x,s*10+Bt),m=h-d,C=m*2,this.Level[i][s]=C>0?S.MapTile.Water:S.MapTile.Grass;let q=9999,Se=9999,Jt=0;for(C=0,Jt=0;Jt<100&&C<12;Jt++)i=(Math.random()*((N-1)/3|0)|0)*3+2,s=(Math.random()*((_-1)/3|0)|0)*3+1,this.Level[i][s]===S.MapTile.Grass&&(i<q&&(q=i,Se=s),this.Level[i][s]=S.MapTile.Level,this.Data[i][s]=-1,C++);this.Data[q][Se]=-2;let It=!0;for(;It;)It=this.FindConnection(N,_);if(this.FindCaps(N,_),this.XFarthestCap===0)return!1;for(this.Data[this.XFarthestCap][this.YFarthestCap]=-2,this.Data[this.XMario/16|0][this.YMario/16|0]=-11,i=0;i<N;i++)for(s=0;s<_;s++)this.Level[i][s]===S.MapTile.Grass&&(i!==this.XFarthestCap||s!==this.YFarthestCap-1)&&(h=P.PerlinNoise(i*10+rt,s*10+G),h>0&&(this.Level[i][s]=S.MapTile.Decoration));return!0}FindConnection(i,s){let h=0,d=0;for(h=0;h<i;h++)for(d=0;d<s;d++)if(this.Level[h][d]===S.MapTile.Level&&this.Data[h][d]===-1)return this.Connect(h,d,i,s),!0;return!1}Connect(i,s,h,d){let m=1e4,C=0,T=0,F=0,P=0,N=0,_=0,rt=0;for(F=0;F<h;F++)for(P=0;P<d;P++)this.Level[F][P]===S.MapTile.Level&&this.Data[F][P]===-2&&(N=Math.abs(i-F)|0,_=Math.abs(s-P)|0,rt=N*N+_*_,rt<m&&(C=F,T=P,m=rt));this.DrawRoad(i,s,C,T),this.Level[i][s]=S.MapTile.Level,this.Data[i][s]=-2}DrawRoad(i,s,h,d){let m=Math.random()>.5;if(m){for(;i>h;)this.Data[i][s]=0,this.Level[i--][s]=S.MapTile.Road;for(;i<h;)this.Data[i][s]=0,this.Level[i++][s]=S.MapTile.Road}for(;s>d;)this.Data[i][s]=0,this.Level[i][s--]=S.MapTile.Road;for(;s<d;)this.Data[i][s]=0,this.Level[i][s++]=S.MapTile.Road;if(!m){for(;i>h;)this.Data[i][s]=0,this.Level[i--][s]=S.MapTile.Road;for(;i<h;)this.Data[i][s]=0,this.Level[i++][s]=S.MapTile.Road}}FindCaps(i,s){let h=0,d=0,m=-1,C=-1,T=0,F=0,P=0;for(h=0;h<i;h++)for(d=0;d<s;d++)if(this.Level[h][d]===S.MapTile.Level){for(T=0,F=h-1;F<=h+1;F++)for(P=d-1;P<=d+1;P++)this.Level[F][P]===S.MapTile.Road&&T++;T===1?(m===-1&&(m=h,C=d),this.Data[h][d]=0):this.Data[h][d]=1}this.XMario=m*16,this.YMario=C*16,this.Travel(m,C,-1,0)}Travel(i,s,h,d){if(!(this.Level[i][s]!==S.MapTile.Road&&this.Level[i][s]!==S.MapTile.Level)){if(this.Level[i][s]===S.MapTile.Road){if(this.Data[i][s]===1)return;this.Data[i][s]=1}this.Level[i][s]===S.MapTile.Level&&(this.Data[i][s]>0?this.LevelId!==0&&!(Math.random()*4|0)?this.Data[i][s]=-3:this.Data[i][s]=++this.LevelId:d>0&&(this.Data[i][s]=-1,d>this.Farthest&&(this.Farthest=d,this.XFarthestCap=i,this.YFarthestCap=s))),h!==2&&this.Travel(i-1,s,0,d++),h!==3&&this.Travel(i,s-1,1,d++),h!==0&&this.Travel(i+1,s,2,d++),h!==1&&this.Travel(i,s+1,3,d++)}}RenderStatic(){let i=0,s=0,h=0,d=0,m=0,C=0,T=0,F=0,P=0,N=M.Resources.Images.worldMap,_=0;for(i=0;i<20;i++)for(s=0;s<15;s++)if(this.MapContext.drawImage(N,(this.WorldNumber/4|0)*16,0,16,16,i*16,s*16,16,16),this.Level[i][s]===S.MapTile.Level)_=this.Data[i][s],_===0?this.MapContext.drawImage(N,0,7*16,16,16,i*16,s*16,16,16):_===-1?this.MapContext.drawImage(N,3*16,8*16,16,16,i*16,s*16,16,16):_===-3?this.MapContext.drawImage(N,0,8*16,16,16,i*16,s*16,16,16):_===-10?this.MapContext.drawImage(N,16,8*16,16,16,i*16,s*16,16,16):_===-11?this.MapContext.drawImage(N,16,7*16,16,16,i*16,s*16,16,16):_===-2?(this.MapContext.drawImage(N,2*16,7*16,16,16,i*16,(s-1)*16,16,16),this.MapContext.drawImage(N,2*16,8*16,16,16,i*16,s*16,16,16)):this.MapContext.drawImage(N,(_-1)*16,6*16,16,16,i*16,s*16,16,16);else if(this.Level[i][s]===S.MapTile.Road)h=this.IsRoad(i-1,s)?1:0,d=this.IsRoad(i,s-1)?1:0,m=this.IsRoad(i+1,s)?1:0,C=this.IsRoad(i,s+1)?1:0,T=h+d*2+m*4+C*8,this.MapContext.drawImage(N,T*16,32,16,16,i*16,s*16,16,16);else if(this.Level[i][s]===S.MapTile.Water)for(F=0;F<2;F++)for(P=0;P<2;P++)h=this.IsWater(i*2+(F-1),s*2+(P-1))?0:1,d=this.IsWater(i*2+F,s*2+(P-1))?0:1,m=this.IsWater(i*2+(F-1),s*2+P)?0:1,C=this.IsWater(i*2+F,s*2+P)?0:1,T=h+d*2+m*4+C*8-1,T>=0&&T<=14&&this.MapContext.drawImage(N,T*16,(4+(F+P&1))*16,16,16,i*16+F*8,s*16+P*8,16,16)}IsRoad(i,s){return i<0&&(i=0),s<0&&(s=0),this.Level[i][s]===S.MapTile.Road||this.Level[i][s]===S.MapTile.Level}IsWater(i,s){let h=0,d=0;for(i<0&&(i=0),s<0&&(s=0),h=0;h<2;h++)for(d=0;d<2;d++)if(this.Level[(i+h)/2|0][(s+d)/2|0]!==S.MapTile.Water)return!1;return!0}Update(i){let s=0,h=0,d=0,m=0;this.WorldNumber!==8&&(this.XMario+=this.XMarioA,this.YMario+=this.YMarioA,s=this.XMario/16|0,h=this.YMario/16|0,this.Level[s][h]===S.MapTile.Road&&(this.Data[s][h]=0),this.MoveTime>0?this.MoveTime--:(this.XMarioA=0,this.YMarioA=0,this.CanEnterLevel&&M.KeyboardInput.IsKeyDown(M.Keys.S)&&this.Level[s][h]===S.MapTile.Level&&this.Data[s][h]!==-11&&this.Level[s][h]===S.MapTile.Level&&this.Data[s][h]!==0&&this.Data[s][h]>-10&&(d=this.WorldNumber+1,S.MarioCharacter.LevelString=d+"-",m=S.LevelType.Overground,this.Data[s][h]>1&&!(Math.random()*3|0)&&(m=S.LevelType.Underground),this.Data[s][h]<0?(this.Data[s][h]===-2?(S.MarioCharacter.LevelString+="X",d+=2):this.Data[s][h]===-1?S.MarioCharacter.LevelString+="?":(S.MarioCharacter.LevelString+="#",d+=1),m=S.LevelType.Castle):S.MarioCharacter.LevelString+=this.Data[s][h],this.EnterLevel=!0,this.LevelDifficulty=d,this.LevelType=m),this.CanEnterLevel=!M.KeyboardInput.IsKeyDown(M.Keys.S),M.KeyboardInput.IsKeyDown(M.Keys.Left)&&this.TryWalking(-1,0),M.KeyboardInput.IsKeyDown(M.Keys.Right)&&this.TryWalking(1,0),M.KeyboardInput.IsKeyDown(M.Keys.Up)&&this.TryWalking(0,-1),M.KeyboardInput.IsKeyDown(M.Keys.Down)&&this.TryWalking(0,1)),this.WaterSprite.Update(i),this.DecoSprite.Update(i),this.HelpSprite.Update(i),S.MarioCharacter.Large?(this.LargeMario.X=this.XMario+this.XMarioA*i|0,this.LargeMario.Y=this.YMario+(this.YMarioA*i|0)-22,this.LargeMario.Update(i)):(this.SmallMario.X=this.XMario+this.XMarioA*i|0,this.SmallMario.Y=this.YMario+(this.YMarioA*i|0)-6,this.SmallMario.Update(i)))}TryWalking(i,s){const h=this.XMario/16|0,d=this.YMario/16|0,m=h+i,C=d+s;if(this.Level[m][C]===S.MapTile.Road||this.Level[m][C]===S.MapTile.Level){if(this.Level[m][C]===S.MapTile.Road&&this.Data[m][C]!==0&&this.Data[h][d]!==0&&this.Data[h][d]>-10)return;this.XMarioA=i*8,this.YMarioA=s*8,this.MoveTime=this.CalcDistance(h,d,i,s)*2+1}}CalcDistance(i,s,h,d){let m=0;for(;;){if(i+=h,s+=d,this.Level[i][s]!==S.MapTile.Road||this.Level[i-d][s+h]===S.MapTile.Road||this.Level[i+d][s-h]===S.MapTile.Road)return m;m++}}Draw(i){if(this.WorldNumber!==8){i.drawImage(this.MapImage,0,0);for(let s=0;s<=15;s++)for(let h=20;h>=0;h--)this.Level[h][s]===S.MapTile.Water?this.IsWater(h*2-1,s*2-1)&&(this.WaterSprite.X=h*16-8,this.WaterSprite.Y=s*16-8,this.WaterSprite.Draw(i,this.camera)):this.Level[h][s]===S.MapTile.Decoration?(this.DecoSprite.X=h*16,this.DecoSprite.Y=s*16,this.DecoSprite.Draw(i,this.camera)):this.Level[h][s]===S.MapTile.Level&&this.Data[h][s]===-2&&(this.HelpSprite.X=h*16+16,this.HelpSprite.Y=s*16-16,this.HelpSprite.Draw(i,this.camera));S.MarioCharacter.Large?this.LargeMario.Draw(i,this.camera):this.SmallMario.Draw(i,this.camera),this.Font.Strings[0]={String:"MARIO "+S.MarioCharacter.Lives,X:4,Y:4},this.FontShadow.Strings[0]={String:"MARIO "+S.MarioCharacter.Lives,X:5,Y:5},this.Font.Strings[1]={String:"WORLD "+(this.WorldNumber+1),X:256,Y:4},this.FontShadow.Strings[1]={String:"WORLD "+(this.WorldNumber+1),X:257,Y:5},this.FontShadow.Draw(i,this.camera),this.Font.Draw(i,this.camera)}}LevelWon(){const i=this.XMario/16,s=this.YMario/16;if(this.Data[i][s]===-2){this.NextWorld();return}this.Data[i][s]!==-3?this.Data[i][s]=0:this.Data[i][s]=-10,this.RenderStatic()}GetX(){return 160}GetY(){return 120}CheckForChange(i){this.WorldNumber===8&&i.ChangeState(new S.WinState),this.EnterLevel&&i.ChangeState(new S.LevelState(this.LevelDifficulty,this.LevelType))}}class Gr extends We{constructor(i,s){super();c(this,"LevelDifficulty");c(this,"LevelType");c(this,"Level");c(this,"Layer");c(this,"BgLayer");c(this,"Paused");c(this,"Sprites");c(this,"SpritesToAdd");c(this,"SpritesToRemove");c(this,"Camera");c(this,"ShellsToCheck");c(this,"FireballsToCheck");c(this,"FontShadow");c(this,"Font");c(this,"TimeLeft");c(this,"StartTime");c(this,"FireballsOnScreen");c(this,"Tick");c(this,"Delta");c(this,"GotoMapState");c(this,"GotoLoseState");this.LevelDifficulty=i,this.LevelType=s,this.Level=null,this.Layer=null,this.BgLayer=[],this.Paused=!1,this.Sprites=null,this.SpritesToAdd=[],this.SpritesToRemove=[],this.Camera=null,this.ShellsToCheck=[],this.FireballsToCheck=[],this.FontShadow=null,this.Font=null,this.TimeLeft=0,this.StartTime=0,this.FireballsOnScreen=0,this.Tick=0,this.Delta=0,this.GotoMapState=!1,this.GotoLoseState=!1}Enter(){const i=new S.LevelGenerator(320,15);this.Level=i.CreateLevel(this.LevelType,this.LevelDifficulty),this.LevelType===S.LevelType.Overground?S.PlayOvergroundMusic():this.LevelType===S.LevelType.Underground?S.PlayUndergroundMusic():this.LevelType===S.LevelType.Castle&&S.PlayCastleMusic(),this.Paused=!1,this.Layer=new S.LevelRenderer(this.Level,320,240),this.Sprites=new M.DrawableManager,this.Camera=new M.Camera,this.Tick=0,this.ShellsToCheck=[],this.FireballsToCheck=[],this.SpritesToAdd=[],this.SpritesToRemove=[],this.FontShadow=S.SpriteCuts.CreateBlackFont(),this.Font=S.SpriteCuts.CreateWhiteFont();for(let s=0;s<2;s++){const h=4>>s,d=((this.Level.Width*16-320)/h|0)+320,m=((this.Level.Height*16-240)/h|0)+240,C=new S.BackgroundGenerator(d/32+1,m/32+1,s===0,this.LevelType);this.BgLayer[s]=new S.BackgroundRenderer(C.CreateLevel(),320,240,h)}S.MarioCharacter.Initialize(this),this.Sprites.Add(S.MarioCharacter),this.StartTime=1,this.TimeLeft=200,this.GotoMapState=!1,this.GotoLoseState=!1}Exit(){delete this.Level,delete this.Layer,delete this.BgLayer,delete this.Sprites,delete this.Camera,delete this.ShellsToCheck,delete this.FireballsToCheck,delete this.FontShadow,delete this.Font}CheckShellCollide(i){this.ShellsToCheck.push(i)}CheckFireballCollide(i){this.FireballsToCheck.push(i)}Update(i){this.Delta=i,this.TimeLeft-=i,this.TimeLeft|0||S.MarioCharacter.Die(),this.StartTime>0&&this.StartTime++,this.Camera.X=S.MarioCharacter.X-160,this.Camera.X<0&&(this.Camera.X=0),this.Camera.X>this.Level.Width*16-320&&(this.Camera.X=this.Level.Width*16-320),this.FireballsOnScreen=0;for(let s=0;s<this.Sprites.Objects.length;s++){const h=this.Sprites.Objects[s];if(h!==S.MarioCharacter){const d=h.X-this.Camera.X,m=h.Y-this.Camera.Y;d<-64||d>384||m<-64||m>304?this.Sprites.RemoveAt(s):h instanceof S.Fireball&&this.FireballsOnScreen++}}if(this.Paused)for(let s=0;s<this.Sprites.Objects.length;s++)this.Sprites.Objects[s]===S.MarioCharacter?this.Sprites.Objects[s].Update(i):this.Sprites.Objects[s].UpdateNoMove(i);else{this.Layer.Update(i),this.Level.Update();let s=!1;this.Tick++;for(let h=(this.Camera.X/16|0)-1;h<=((this.Camera.X+this.Layer.Width)/16|0)+1;h++)for(let d=(this.Camera.Y/16|0)-1;d<=((this.Camera.Y+this.Layer.Height)/16|0)+1;d++){let m=0;h*16+8>S.MarioCharacter.X+16&&(m=-1),h*16+8<S.MarioCharacter.X-16&&(m=1);const C=this.Level.GetSpriteTemplate(h,d);if(C!==null&&(C.LastVisibleTick!==this.Tick-1&&(C.Sprite===null||!this.Sprites.Contains(C.Sprite))&&C.Spawn(this,h,d,m),C.LastVisibleTick=this.Tick),m!==0){const T=this.Level.GetBlock(h,d);if((S.Tile.Behaviors[T&255]&S.Tile.Animated)>0&&(T%16/4|0)===3&&!(T/16|0)&&(this.Tick-h*2)%100===0){for(let F=0;F<8;F++)this.AddSprite(new S.Sparkle(this,h*16+8,d*16+(Math.random()*16|0),Math.random()*m,0,0,1,5));this.AddSprite(new S.BulletBill(this,h*16+8+m*8,d*16+15,m)),s=!0}}}s&&M.Resources.PlaySound("cannon");for(let h=0;h<this.Sprites.Objects.length;h++)this.Sprites.Objects[h].Update(i);for(let h=0;h<this.Sprites.Objects.length;h++)this.Sprites.Objects[h].CollideCheck();for(let h=0;h<this.ShellsToCheck.length;h++)for(let d=0;d<this.Sprites.Objects.length;d++)this.Sprites.Objects[d]!==this.ShellsToCheck[h]&&!this.ShellsToCheck[h].Dead&&this.Sprites.Objects[d].ShellCollideCheck(this.ShellsToCheck[h])&&S.MarioCharacter.Carried===this.ShellsToCheck[h]&&!this.ShellsToCheck[h].Dead&&(S.MarioCharacter.Carried=null,this.ShellsToCheck[h].Die());this.ShellsToCheck.length=0;for(let h=0;h<this.FireballsToCheck.length;h++)for(let d=0;d<this.Sprites.Objects.length;d++)this.Sprites.Objects[d]!==this.FireballsToCheck[h]&&!this.FireballsToCheck[h].Dead&&this.Sprites.Objects[d].FireballCollideCheck(this.FireballsToCheck[h])&&this.FireballsToCheck[h].Die();this.FireballsToCheck.length=0}this.Sprites.AddRange(this.SpritesToAdd),this.Sprites.RemoveList(this.SpritesToRemove),this.SpritesToAdd.length=0,this.SpritesToRemove.length=0,this.Camera.X=S.MarioCharacter.XOld+(S.MarioCharacter.X-S.MarioCharacter.XOld)*i-160,this.Camera.Y=S.MarioCharacter.YOld+(S.MarioCharacter.Y-S.MarioCharacter.YOld)*i-120}Draw(i){this.Camera.X<0&&(this.Camera.X=0),this.Camera.Y<0&&(this.Camera.Y=0),this.Camera.X>this.Level.Width*16-320&&(this.Camera.X=this.Level.Width*16-320),this.Camera.Y>this.Level.Height*16-240&&(this.Camera.Y=this.Level.Height*16-240);for(let h=0;h<2;h++)this.BgLayer[h].Draw(i,this.Camera);i.save(),i.translate(-this.Camera.X,-this.Camera.Y);for(let h=0;h<this.Sprites.Objects.length;h++)this.Sprites.Objects[h].Layer===0&&this.Sprites.Objects[h].Draw(i,this.Camera);i.restore(),this.Layer.Draw(i,this.Camera),this.Layer.DrawExit0(i,this.Camera,S.MarioCharacter.WinTime===0),i.save(),i.translate(-this.Camera.X,-this.Camera.Y);for(let h=0;h<this.Sprites.Objects.length;h++)this.Sprites.Objects[h].Layer===1&&this.Sprites.Objects[h].Draw(i,this.Camera);i.restore(),this.Layer.DrawExit1(i,this.Camera),this.DrawStringShadow(i,"MARIO "+S.MarioCharacter.Lives,0,0),this.DrawStringShadow(i,"00000000",0,1),this.DrawStringShadow(i,"COIN",14,0),this.DrawStringShadow(i," "+S.MarioCharacter.Coins,14,1),this.DrawStringShadow(i,"WORLD",24,0),this.DrawStringShadow(i," "+S.MarioCharacter.LevelString,24,1),this.DrawStringShadow(i,"TIME",34,0);let s=this.TimeLeft|0;if(s<0&&(s=0),this.DrawStringShadow(i," "+s,34,1),this.StartTime>0){let h=this.StartTime+this.Delta-2;h=h*h*.6,this.RenderBlackout(i,160,120,h|0)}if(S.MarioCharacter.WinTime>0){S.StopMusic();let h=S.MarioCharacter.WinTime+this.Delta;h=h*h*.2,h>900&&(S.GlobalMapState.LevelWon(),this.GotoMapState=!0),this.RenderBlackout(i,S.MarioCharacter.XDeathPos-this.Camera.X|0,S.MarioCharacter.YDeathPos-this.Camera.Y|0,320-h|0)}if(S.MarioCharacter.DeathTime>0){S.StopMusic();let h=S.MarioCharacter.DeathTime+this.Delta;h=h*h*.1,h>900&&(S.MarioCharacter.Lives--,this.GotoMapState=!0,S.MarioCharacter.Lives<=0&&(this.GotoLoseState=!0)),this.RenderBlackout(i,S.MarioCharacter.XDeathPos-this.Camera.X|0,S.MarioCharacter.YDeathPos-this.Camera.Y|0,320-h|0)}}DrawStringShadow(i,s,h,d){this.Font.Strings[0]={String:s,X:h*8+4,Y:d*8+4},this.FontShadow.Strings[0]={String:s,X:h*8+5,Y:d*8+5},this.FontShadow.Draw(i,this.Camera),this.Font.Draw(i,this.Camera)}RenderBlackout(i,s,h,d){if(d>320)return;const m=[],C=[];for(let T=0;T<16;T++)m[T]=s+Math.cos(T*Math.PI/15)*d|0,C[T]=h+Math.sin(T*Math.PI/15)*d|0;m[16]=0,C[16]=h,m[17]=0,C[17]=240,m[18]=320,C[18]=240,m[19]=320,C[19]=h,i.fillStyle="#000",i.beginPath(),i.moveTo(m[19],C[19]);for(let T=18;T>=0;T--)i.lineTo(m[T],C[T]);i.closePath(),i.fill();for(let T=0;T<16;T++)m[T]=s-Math.cos(T*Math.PI/15)*d|0,C[T]=h-Math.sin(T*Math.PI/15)*d|0;C[15]+=5,m[16]=320,C[16]=h,m[17]=320,C[17]=0,m[18]=0,C[18]=0,m[19]=0,C[19]=h,i.fillStyle="#000",i.beginPath(),i.moveTo(m[0],C[0]);for(let T=0;T<=m.length-1;T++)i.lineTo(m[T],C[T]);i.closePath(),i.fill()}AddSprite(i){this.Sprites.Add(i)}RemoveSprite(i){this.Sprites.Remove(i)}Bump(i,s,h){const d=this.Level.GetBlock(i,s);if((S.Tile.Behaviors[d&255]&S.Tile.Bumpable)>0&&(this.BumpInto(i,s-1),this.Level.SetBlock(i,s,4),this.Level.SetBlockData(i,s,4),(S.Tile.Behaviors[d&255]&S.Tile.Special)>0?(M.Resources.PlaySound("sprout"),S.MarioCharacter.Large?this.AddSprite(new S.FireFlower(this,i*16+8,s*16+8)):this.AddSprite(new S.Mushroom(this,i*16+8,s*16+8))):(S.MarioCharacter.GetCoin(),M.Resources.PlaySound("coin"),this.AddSprite(new S.CoinAnim(this,i,s)))),(S.Tile.Behaviors[d&255]&S.Tile.Breakable)>0&&(this.BumpInto(i,s-1),h)){M.Resources.PlaySound("breakblock"),this.Level.SetBlock(i,s,0);for(let m=0;m<2;m++)for(let C=0;C<2;C++)this.AddSprite(new S.Particle(this,i*16+m*8+4,s*16+C*8+4,(m*2-1)*4,(C*2-1)*4-8))}}BumpInto(i,s){const h=this.Level.GetBlock(i,s);(S.Tile.Behaviors[h&255]&S.Tile.PickUpable)>0&&(S.MarioCharacter.GetCoin(),M.Resources.PlaySound("coin"),this.Level.SetBlock(i,s,0),this.AddSprite(new S.CoinAnim(i,s+1)));for(let d=0;d<this.Sprites.Objects.length;d++)this.Sprites.Objects[d].BumpCheck(i,s)}CheckForChange(i){this.GotoLoseState?i.ChangeState(new S.LoseState):this.GotoMapState&&i.ChangeState(S.GlobalMapState)}}var S={SpriteCuts:yt,Level:Yt,BackgroundGenerator:Tr,BackgroundRenderer:br,ImprovedNoise:Mr,NotchSprite:wt,Character:Dr,LevelRenderer:kr,LevelGenerator:Xr,SpriteTemplate:Lr,Enemy:me,Fireball:Yr,Sparkle:Ir,CoinAnim:Wr,Mushroom:Fr,Particle:Pr,FireFlower:Or,BulletBill:Ar,FlowerEnemy:Qi,Shell:Br,TitleState:Hr,LoadingState:Rr,LoseState:ri,WinState:Er,MapState:Nr,LevelState:Gr,MarioCharacter:null,GlobalMapState:null,LevelType:Yt.LevelType,Odds:Yt.Odds,Level1Type:0,Tile:Yt.Tile,MapTile:{Grass:0,Water:1,Level:2,Road:3,Decoration:4},midiFiles:{title:"midi/title.mid",map:"midi/map.mid",background:"midi/background.mid",overground:"midi/overground.mid",underground:"midi/underground.mid",castle:"midi/castle.mid"},PlayMusic(I){I in this.midiFiles||console.error("Cannot play music track "+I+" as i have no data for it.")},PlayTitleMusic(){this.PlayMusic("title")},PlayMapMusic(){this.PlayMusic("map")},PlayOvergroundMusic(){this.PlayMusic("background")},PlayUndergroundMusic(){this.PlayMusic("underground")},PlayCastleMusic(){this.PlayMusic("castle")},StopMusic(){}};window.Mario=S;dr(document).ready(function(){const I=new S.LoadingState;new M.Application().Initialize(I,320,240)});
